<!DOCTYPE HTML>
<html lang="en">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="Problem Solving and Search, Chaoqun Yin">
    <meta name="description" content="Veni, Vidi, Vici">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>Problem Solving and Search | Chaoqun Yin</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery.min.js"></script>

<meta name="generator" content="Hexo 5.3.0"></head>




<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">Chaoqun Yin</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>Index</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>Tags</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>Categories</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>Archives</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>About</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>Contact</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>Friends</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="Search" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">Chaoqun Yin</div>
        <div class="logo-desc">
            
            Veni, Vidi, Vici
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			Index
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			Tags
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			Categories
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			Archives
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			About
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			Contact
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			Friends
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/blinkfox/hexo-theme-matery" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/blinkfox/hexo-theme-matery" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/6.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">Problem Solving and Search</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        padding: 35px 0 15px 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        padding-bottom: 30px;
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/Techniques-of-Artificial-Intelligence/">
                                <span class="chip bg-color">Techniques of Artificial Intelligence</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/Notes/" class="post-category">
                                Notes
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>Publish Date:&nbsp;&nbsp;
                    2021-02-21
                </div>
                

                

                

                

                
            </div>
        </div>
        <hr class="clearfix">

        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <h1 id="Problem-Solving-and-Search"><a href="#Problem-Solving-and-Search" class="headerlink" title="Problem Solving and Search"></a>Problem Solving and Search</h1><p><a target="_blank" rel="noopener" href="https://vub.cloud.panopto.eu/Panopto/Pages/Viewer.aspx?id=ad1fa799-7a58-45af-b2b0-ab8100fcc929#">Video</a></p>
<h2 id="What-is-problem-solving"><a href="#What-is-problem-solving" class="headerlink" title="What is problem solving?"></a>What is problem solving?</h2><p>An agent can act by</p>
<ul>
<li>establishing <em>goals</em> that result in solving a <em>problem</em></li>
<li>considering <em>sequences</em> of actions that might achieve those goals</li>
</ul>
<p>To automate this, we need to <em>formulate the problem</em></p>
<p>The process of considering action sequences within a problem formulation is called <em>search</em></p>
<p>This part of the module is about</p>
<ul>
<li>problem-solving agents</li>
<li>problem types</li>
<li>problem formulation</li>
<li>example problems</li>
<li>search strategies</li>
</ul>
<h2 id="An-Agent-on-Holiday"><a href="#An-Agent-on-Holiday" class="headerlink" title="An Agent on Holiday"></a>An Agent on Holiday</h2><p>Example</p>
<ul>
<li><em>An agent is in Arad, Romania, at the end of a touring holiday. It has a ticket to fly out of Bucharest the following day. The ticket is non-refundable, the agent’s visa is about to expire and there are no seats available on flights for six weeks.</em></li>
</ul>
<p>The agent’s performance measure includes</p>
<ul>
<li>cost of ticket</li>
<li>avoidance of arrest and/or deportation</li>
<li>improvement of suntan</li>
<li>seeing more sights</li>
</ul>
<p>Lots of actions are possible to score highly on the performance measure, but the seriousness of the agent’s situation means that the agent should adopt the goal of getting to Bucharest</p>
<ul>
<li>Agent can reject any actions that fail to meet this goal</li>
</ul>
<h3 id="A-problem-solving-agent"><a href="#A-problem-solving-agent" class="headerlink" title="A problem-solving agent"></a>A problem-solving agent</h3><p>Goals help to organise behaviour</p>
<ul>
<li><em>goal formulation</em> is the first step to <em>problem solving</em></li>
<li>a goal is a desired state of (part of) the world<ul>
<li>though it does not usually specify the state of the whole world</li>
<li>alternatively, a goal can be thought of as the set of world states in which it is satisfied</li>
</ul>
</li>
</ul>
<p>Actions cause transitions between <em>world states</em></p>
<ul>
<li>The agent has to work out which action(s) will get it to the goal state</li>
</ul>
<p><em>Problem formulation</em> is exhaustive analysis of possible actions and states</p>
<p>The agent needs to consider possible actions and the resulting states</p>
<ul>
<li>put left foot forward 18 inches??</li>
<li>get cab to next town??</li>
</ul>
<p>Our holiday agent has adopted the goal of driving to Bucharest</p>
<p>There are three roads out of Arad: to Sibiu,Timisoara and Zerind</p>
<ul>
<li>None of these reaches the goal. Which road should the agent follow?</li>
</ul>
<p>Without additional knowledge about Romania, the agent cannot choose the best road to take: it can only make a random choice</p>
<p>However, if the agent has a map of Romania, it knows which states it can get to and which actions it can perform</p>
<p><img src="/images/AI/103913.png" alt="Exercise: route planning on a map"></p>
<p>Find a route from Arad to Bucharest.</p>
<ul>
<li>Is this the optimal route?</li>
<li>How did you go about finding the route?</li>
</ul>
<p>The agent can use the map information </p>
<ul>
<li>consider <em>subsequent stages</em> of a hypothetical journey through each of the 3 nearest towns, to try to find a route that eventually leads to Bucharest</li>
</ul>
<p>Once it has found a path on the map from Arad to Bucharest, it can achieve its goal locally by driving to each town on the route</p>
<p>More generally, with several immediate options of unknown value, the agent can decide what to do by <em>searching</em></p>
<ul>
<li>assessing different possible sequences of actions that lead to states of known <em>utility</em> (goal states)</li>
<li>choosing the best one</li>
</ul>
<p>The agent can use the map information</p>
<ul>
<li>consider <em>subsequent stages of a hypothetical journey through</em> each of the 3 nearest towns, to try to find a route that eventually leads to Bucharest</li>
</ul>
<p>Once it has found a path on the map from Arad to Bucharest, it can achieve its goal locally by driving to each town on the route</p>
<p>More generally, with several immediate options of unknown value, the agent can decide what to do by <em>searching</em></p>
<ul>
<li>assessing different possible sequences of actions that lead to states of known <em>utility</em> (goal states)</li>
<li>choosing the best one</li>
</ul>
<h2 id="Design-Process"><a href="#Design-Process" class="headerlink" title="Design Process"></a>Design Process</h2><p>To design a problem-solving program</p>
<ul>
<li>FORMULATE: Formulate problem, goal and starting conditions</li>
<li>SEARCH: Use search algorithm to find action sequence that realises goal from starting conditions</li>
<li>EXECUTE: Use solution to guide actions</li>
</ul>
<p>To design a problem-solving agent</p>
<ul>
<li>Do the above in the context of a changing world</li>
</ul>
<p><strong>THE ART OF AI PROBLEM SOLVING IS DECIDING WHAT GOES INTO THE DESCRIPTION OF THE OPERATORS AND STATES, AND WHAT IS LEFT OUT</strong></p>
<h2 id="Search-Algorithms"><a href="#Search-Algorithms" class="headerlink" title="Search Algorithms"></a>Search Algorithms</h2><p>A search algorithm takes a <em>problem</em> as input, <em>formulated</em> as</p>
<ul>
<li>a set of <em>goals</em> to be achieved</li>
<li>a set of possible <em>actions</em> to be applied</li>
</ul>
<p>It returns a solution in the form of an <em>action sequence</em> or <em>plan</em></p>
<p>Once a solution is found, the chosen actions can be carried out</p>
<ul>
<li><em>the execution phase</em></li>
</ul>
<p>In the agent context, this becomes complicated because of interaction between agents and other dynamic things in the world</p>
<ul>
<li>so we consider the search on its own first</li>
</ul>
<h2 id="Well-defined-problems"><a href="#Well-defined-problems" class="headerlink" title="Well-defined problems"></a>Well-defined problems</h2><p>Basic problem elements are states and actions</p>
<p>Formally, we need</p>
<ul>
<li><em>initial state</em>: the world the agent starts in</li>
<li><em>operators</em>: describe actions in terms of states reached by applying them</li>
<li><em>goal state</em>: the world that the agent is trying to be in</li>
</ul>
<p>The initial state and operators define the <em>state space</em> of the problem</p>
<ul>
<li>the set of all states reachable from the initial state and any sequence of actions</li>
</ul>
<p>To determine when the goal state is reached, we need</p>
<ul>
<li><em>goal test</em>: a boolean function over states, true if input is the goal state</li>
</ul>
<h2 id="Searching-for-solutions"><a href="#Searching-for-solutions" class="headerlink" title="Searching for solutions"></a>Searching for solutions</h2><p>A solution is a sequence of operators leading from start to goal state</p>
<p>Given a problem formulation, we have to map out the state space</p>
<ul>
<li>while we are searching the state space it’s sometimes called the <em>search space</em></li>
</ul>
<p>Generate action sequences, using an <em>agenda</em>: </p>
<ul>
<li>start at initial state</li>
<li>check whether in goal state<ul>
<li>if yes, we’re done</li>
</ul>
</li>
<li>otherwise, consider other states by applying the operators to the present state to generate a new set of states<ul>
<li>This is called <em>expanding</em> the state</li>
</ul>
</li>
</ul>
<h3 id="Search-Trees"><a href="#Search-Trees" class="headerlink" title="Search Trees"></a>Search Trees</h3><p>It’s helpful to think of the state space as structured into a <em>tree</em></p>
<ul>
<li>actions correspond with <em>arcs</em></li>
<li>states correspond with <em>nodes</em></li>
</ul>
<p><img src="/images/AI/1039130.png"></p>
<p>Searching this way takes us to Bucharest in 3 steps</p>
<ul>
<li>but only because of the order we picked the cities in</li>
</ul>
<p><img src="/images/AI/1039131.png"></p>
<h2 id="Clear-thinking-state-≠-node"><a href="#Clear-thinking-state-≠-node" class="headerlink" title="Clear thinking: state ≠ node!"></a>Clear thinking: state ≠ node!</h2><p>States of the world and nodes in the search tree are not the same thing</p>
<ul>
<li>A state is a (representation of) a problem configuration</li>
<li>A node is a data structure used by a search algorithm<ul>
<li>constitutes part of a search tree</li>
<li>includes parent, action, children, depth (for IDS), path cost (for UCS)</li>
</ul>
</li>
<li>States do not formally have parents, actions, children, depth, or path cost!</li>
</ul>
<p>The Expand function creates new nodes, filling in the various fields and using the operators of the problem formulation to approximate the corresponding <em>states</em></p>
<h2 id="Search-Algorithm-Framework"><a href="#Search-Algorithm-Framework" class="headerlink" title="Search Algorithm Framework"></a>Search Algorithm Framework</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function AgendaSearch( start-state, actions, goal-test )</span><br><span class="line">                                        returns action-sequence or failure</span><br><span class="line">    static: seq, an action sequence, initially empty</span><br><span class="line">    agenda, a state sequence, initially contains start-state</span><br><span class="line">loop do</span><br><span class="line">       if Empty(agenda) then return failure</span><br><span class="line">       if goal-test(First(agenda)) then return seq</span><br><span class="line">       agenda ← Queuing-Fn(Rest(agenda),Expand(First(agenda), actions))</span><br><span class="line">       seq ← Append( seq, Action(First(agenda)))</span><br><span class="line">end loop</span><br></pre></td></tr></table></figure>
<p>Alternatively, in Prolog:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">agendaSearch( [First|_], [First] ) :-</span><br><span class="line">    goalTest( First ).</span><br><span class="line">agendaSearch( [First|Rest], [First|Answer] ) :-</span><br><span class="line">    expand( First, MidAgenda ),</span><br><span class="line">    queuingFn( Rest, MidAgenda, Agenda ),</span><br><span class="line">    agendaSearch( Agenda, Answer ).</span><br></pre></td></tr></table></figure>
<p>The Queuing-Fn function determines what kind of search we are doing</p>
<p>The Expand function produces a set of states achieved by applying all possible actions to the given state</p>
<p>This is generally called Agenda-based search</p>
<h3 id="Search-amp-the-Queuing-Fn"><a href="#Search-amp-the-Queuing-Fn" class="headerlink" title="Search &amp; the Queuing-Fn"></a>Search &amp; the Queuing-Fn</h3><p>Searching this way takes us to Bucharest in 3 steps</p>
<ul>
<li>but only because of the order we picked the cities in</li>
</ul>
<p><img src="/images/AI/1039132.png"></p>
<p>This is an example of Depth-First Search (DFS)</p>
<ul>
<li>we construct the search tree by going <em>down</em> it, only going <em>across</em> it when going down fails </li>
<li>depth-first search can fail when the tree is infinitely deep<ul>
<li>the space contains cycles or is generated from continuous values</li>
</ul>
</li>
<li>depth-first search depends (crucially) on the order in which operators are applied/nodes are expanded<ul>
<li>it may not find things that are present</li>
<li>it may find long action sequences before short ones (usually, that’s unhelpful)</li>
</ul>
</li>
</ul>
<p>In terms of agendas, we implement DFS with a Queuing-Fn that</p>
<ul>
<li>removes the current node from the agenda</li>
<li>appends its children to the <em>front</em> of the agenda</li>
<li>note that the agenda is <em>rotating</em> all the time, always dealing with its <em>first</em> item</li>
</ul>
<p>An alternative is Breadth-First Search (BFS)</p>
<ul>
<li>we construct the search tree by going <em>across</em> it,repeatedly,replacing each node with its children</li>
<li>breadth-first search guarantees to find the solution if there is one</li>
<li>breadth-first search guarantees to find the shortest action sequence</li>
<li>but it causes a combinatorial explosion of nodes in the agenda, and so is unsuitable for very large search spaces<ul>
<li>most real AI problems have very large search spaces</li>
</ul>
</li>
</ul>
<p>In terms of agendas, we implement BFS with a Queuing-Fn that</p>
<ul>
<li>removes the current node from the agenda</li>
<li>appends its children to the <em>back</em> of the agenda</li>
<li>note that the agenda is <em>rotating</em> all the time, always dealing with its <em>first</em> item</li>
</ul>
<h4 id="Breadth-first-search-in-Romania"><a href="#Breadth-first-search-in-Romania" class="headerlink" title="Breadth-first search in Romania"></a>Breadth-first search in Romania</h4><p>Here the different depths are given different colours</p>
<ul>
<li>we can see the different layers of the tree as the search proceeds</li>
<li>and it’s clear that the shortest solution, if there is one, will be found</li>
</ul>
<p><img src="/images/AI/1039133.png"></p>
<h4 id="Measuring-search-effectiveness"><a href="#Measuring-search-effectiveness" class="headerlink" title="Measuring search effectiveness"></a>Measuring search effectiveness</h4><p>To determine the utility of a particular path, we need</p>
<ul>
<li>cost: a function that assigns a cost to a path (to differentiate between solutions)</li>
</ul>
<p>To evaluate a search strategy or algorithm, need to ask</p>
<ul>
<li>does it find a solution?</li>
<li>is it a good solution (one with a low path cost)?</li>
<li>is it the best solution (optimal)?</li>
<li>how much time and memory are required to find a solution</li>
</ul>
<p>Effectiveness of search depends on the objectives. Compare</p>
<ul>
<li>searching for a route to Bucharest (many routes may be satisfactory)</li>
<li>searching for the next prime number (must be a true prime, and there’s only 1)</li>
</ul>
<p>Now consider the efficiency of the planned route</p>
<ul>
<li>going via Sibiu and Fagaras has the fewest towns</li>
<li>but going via Sibiu and Pitesti is shorter</li>
</ul>
<p><img src="/images/AI/1039150.png"></p>
<p>We can compute the utility of a route by a function which implements the performance measure, in terms of the problem formulation</p>
<p>here, we might use distance for each road</p>
<p><img src="/images/AI/1039134.png"></p>
<p>We can implement this using Uniform-Cost Search (UCS)</p>
<p>Also called Best-First Search</p>
<ul>
<li>we construct the search tree by picking the <em>best</em> node in the agenda after each expansion, according to the utility function, expanding it, and so on</li>
<li>best-first search guarantees to find the solution if there is one</li>
<li>best-first search guarantees to find the best action sequence in terms of <em>utility</em></li>
<li>but it cannot guarantee to use less memory than BFS<ul>
<li>most real AI problems have very large search spaces</li>
</ul>
</li>
</ul>
<p>In terms of agendas, implement UCS/BestFS with a Queuing-Fn that</p>
<ul>
<li>removes the current node from the agenda</li>
<li>appends its children to the agenda and then sorts the <em>whole</em> <em>agenda</em> by the utility function<ul>
<li>and stores the cost-so-far at each node in the agenda, to avoid recalculation</li>
</ul>
</li>
<li>note that the agenda is <em>rotating</em> all the time, always dealing with its <em>first</em> item</li>
</ul>
<h4 id="Best-first-search-UCS-in-Romania"><a href="#Best-first-search-UCS-in-Romania" class="headerlink" title="Best-first search (UCS) in Romania"></a>Best-first search (UCS) in Romania</h4><p>Using UCS to consider real distances</p>
<ul>
<li>Here BFS would get us a <em>wrong answer</em></li>
<li>UCS is correct, but spends time searching routes which are “obviously” wrong</li>
</ul>
<p><img src="/images/AI/1039135.png"></p>
<p><img src="/images/AI/1039136.png"></p>
<p><img src="/images/AI/1039137.png"></p>
<p><img src="/images/AI/1039138.png"></p>
<p><img src="/images/AI/1039139.png"></p>
<p><img src="/images/AI/1039140.png"></p>
<p><img src="/images/AI/1039141.png"></p>
<p><img src="/images/AI/1039142.png"></p>
<p><img src="/images/AI/1039143.png"></p>
<p><img src="/images/AI/1039144.png"></p>
<p><img src="/images/AI/1039145.png"></p>
<p><img src="/images/AI/1039146.png"></p>
<p><img src="/images/AI/1039147.png"></p>
<p><img src="/images/AI/1039148.png"></p>
<h2 id="Formulating-the-problem"><a href="#Formulating-the-problem" class="headerlink" title="Formulating the problem"></a>Formulating the problem</h2><p>Now let’s look at the full specification of this problem</p>
<ul>
<li>Initial state: in Arad</li>
<li>Operator: drive between two cities</li>
<li>State space: cities (20)</li>
<li>Goal test: in Bucharest?</li>
</ul>
<p>Path cost: one of </p>
<ul>
<li>total milage</li>
<li>total expected travel time </li>
<li>step count in search</li>
</ul>
<p>Many details are left out</p>
<ul>
<li>abstraction</li>
</ul>
<h2 id="Analysing-search-spaces"><a href="#Analysing-search-spaces" class="headerlink" title="Analysing search spaces"></a>Analysing search spaces</h2><p>A strategy is defined by its order of node expansion</p>
<p><em>Uninformed</em> strategies use <em>only information</em> in the <em>problem formulation</em></p>
<ul>
<li>Sometimes called <em>blind</em> search or <em>brute-force</em> search<ul>
<li>Breadth-first search</li>
<li>Depth-first search</li>
<li>Best-first search/Uniform-cost search (this “feels” informed, but isn’t, by this definition)</li>
</ul>
</li>
</ul>
<p><em>Informed</em> or <em>heuristic</em> search strategies a quality measure not strictly in the problem formulation to guide the order in which nodes are expanded</p>
<ul>
<li>e.g., An informed agent might notice that the goal state, Bucharest, is southeast of Arad, and that only Sibiu is in that direction,so it is likely to be the best choice<ul>
<li>Algorithm A and Algorithm A*</li>
</ul>
</li>
</ul>
<h3 id="Analysing-search-spaces-for-cost"><a href="#Analysing-search-spaces-for-cost" class="headerlink" title="Analysing search spaces for cost"></a>Analysing search spaces for cost</h3><p>A strategy is evaluated along the following dimensions</p>
<ul>
<li><em>completeness</em>: does it always find a solution if one exists?</li>
<li><em>time complexity</em>: number of nodes generated</li>
<li><em>space complexity</em>: maximum number of nodes in memory at once</li>
<li><em>optimality</em>: does it always find a least-cost solution?</li>
</ul>
<p>Time and space complexity are measured in terms of the search tree</p>
<ul>
<li><em>b</em> maximum branching factor of the search tree (“bushiness” of tree)</li>
<li><em>d</em> depth of the least-cost solution</li>
<li><em>m</em> maximum depth of the state space (may be ∞)</li>
</ul>
<p>Even the best strategies need to avoid repeated nodes</p>
<ul>
<li>trade-off between time and space (see Russell and Norvig)</li>
</ul>
<p>So far, we’ve looked at Depth first, Breadth first, and Uniform Cost search in practice</p>
<ul>
<li>now, the theory</li>
</ul>
<p>Depth first search (DFS)</p>
<ul>
<li>Complete? No, DFS fails in infinite depth search spaces and spaces with loops</li>
<li>Time? O(b<sup>m</sup>): terrible if m is much larger than d, but if search tree is “bushy ” , may be much faster than breadth first</li>
<li>Space? O(bm), i.e.,space linear in length of action sequence! Need only store a single path from the root to the leaf node, along with remaining unexpanded sibling nodes for each node on path</li>
<li>Optimal? No </li>
<li>Pros: For problems with many solutions, DFS may be faster than BFS because it has a good chance of finding a solution after exploring only a small portion of the whole space</li>
<li>Cons: can get stuck down wrong search path</li>
</ul>
<p>Breadth first search </p>
<ul>
<li>Complete? Yes, all nodes are examined if b is finite</li>
<li>Time? 1 + b + b<sup>2</sup> + b<sup>3</sup> + . . . + b<sup>d</sup> = O(b<sup>d</sup>), i.e., exponential in b</li>
<li>Space? O(b<sup>d</sup>) – keeps every node in memory</li>
<li>Optimal? Only if cost = 1 per step, not in general<ul>
<li>If there are several solutions it will find the <em>shallowest</em> goal first</li>
</ul>
</li>
<li>Drawbacks: Memory requirement to store nodes is a big problem<ul>
<li>Assuming b = 10, expansion of 1000 nodes/sec, and 100 bytes/node: </li>
</ul>
</li>
</ul>
<table>
<thead>
<tr>
<th align="center">Depth</th>
<th align="center">Nodes</th>
<th align="center">Time</th>
<th align="center">Memory</th>
</tr>
</thead>
<tbody><tr>
<td align="center">0</td>
<td align="center">1</td>
<td align="center">1 millisecond</td>
<td align="center">100 bytes</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">111</td>
<td align="center">0.1 seconds</td>
<td align="center">11 kilobytes</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">11111</td>
<td align="center">11 seconds</td>
<td align="center">1 megabytes</td>
</tr>
<tr>
<td align="center">6</td>
<td align="center">10<sup>6</sup></td>
<td align="center">18 minutes</td>
<td align="center">111 megabytes</td>
</tr>
<tr>
<td align="center">8</td>
<td align="center">10<sup>8</sup></td>
<td align="center">31 hours</td>
<td align="center">11 gigabytes</td>
</tr>
<tr>
<td align="center">10</td>
<td align="center">10<sup>10</sup></td>
<td align="center">128 days</td>
<td align="center">1 terabyte</td>
</tr>
<tr>
<td align="center">12</td>
<td align="center">10<sup>12</sup></td>
<td align="center">35 years</td>
<td align="center">111 terabytes</td>
</tr>
<tr>
<td align="center">12</td>
<td align="center">10<sup>14</sup></td>
<td align="center">3500 years</td>
<td align="center">11111 terabytes</td>
</tr>
</tbody></table>
<p>Uniform-cost (Best first) search</p>
<ul>
<li>Shares dynamic properties of DFS and BFS</li>
<li>Requires step cost information in problem formation and path cost in agenda</li>
<li>Time? Number of nodes with path cost less than optimal solution</li>
<li>Space? Number of nodes with path cost less than optimal solution</li>
<li>Optimal? Yes – finds the cheapest solution as long as step cost &gt; 0</li>
<li>First solution reported (but not necessarily encountered) is always the cheapest<ul>
<li>does not explore the whole tree and avoids looping</li>
<li>but can explore the same path multiple times if there is more than one route through a node</li>
</ul>
</li>
</ul>
<p><strong>Exercise: IDS on holiday</strong></p>
<p>Execute IDS for the Romanian holiday problem, on paper</p>
<p><img src="/images/AI/1039150.png"></p>
<p>Iterative Deepening Search</p>
<ul>
<li>Complete? Yes</li>
<li>Time? (d+1)b<sup>0</sup> +db<sup>1</sup> +(d−1)b<sup>2</sup> +…+ b<sup>d</sup> = O(b<sup>d</sup>)</li>
<li>Space? O(b<sup>d</sup>) ‣ Optimal? Yes, if step cost = 1</li>
<li>Pros: combines the benefits of BFS and DFS<ul>
<li>optimal and complete (like BFS)</li>
<li>modest memory requirements (like DFS)</li>
<li>can be modified to explore uniform-cost tree</li>
</ul>
</li>
<li>Cons: some (perhaps many) states are expanded multiple times<ul>
<li>Although this appears wasteful, the overhead is actually quite small for most cases</li>
</ul>
</li>
</ul>
<h2 id="Informed-Search"><a href="#Informed-Search" class="headerlink" title="Informed Search"></a>Informed Search</h2><p><em>Informed</em> <em>search methods</em> use problem specific information about the state space to generate solutions more effectively</p>
<ul>
<li>Sometimes called Best First Search</li>
</ul>
<p>Extra knowledge is provided by a <em>heuristic</em> which returns a number describing the desirability of expanding a given node</p>
<ul>
<li>an approximation since we usually don’t know best node to expand</li>
<li>nodes expanded in order of desirability (like UCS)</li>
<li>most desirable processed first</li>
</ul>
<p>The aim is to find <em>low</em> cost solutions</p>
<ul>
<li>typically evaluate estimated cost of solution and try to minimise it</li>
<li>measure incorporates estimate of cost from a state to the closest goal state<ul>
<li>try to expand the node closest to the goal</li>
<li>try to expand the node on the least cost solution path</li>
</ul>
</li>
</ul>
<h2 id="Greedy-or-hill-climbing-search"><a href="#Greedy-or-hill-climbing-search" class="headerlink" title="Greedy, or hill-climbing, search"></a>Greedy, or hill-climbing, search</h2><p>The simplest kind of informed search estimates the cost from the current node to the solution and uses that to sort its agenda</p>
<ul>
<li>note the difference with UCS, where we use the actual cost so far</li>
</ul>
<p><img src="/images/AI/1039151.png"></p>
<p>Most greedy search has an agenda of length 1</p>
<ul>
<li>all but the best node is thrown away, at every cycle</li>
<li>but it can be implemented with an agenda of any length</li>
<li>the shorter the agenda, the more likely the search is to get caught in local minima, where there is a temporary dip in the solution quality<ul>
<li>throwing away solutions means you can’t recover if you go astray</li>
</ul>
</li>
</ul>
<p>In the route-finding problem, a good heuristic is the straight-line distance to the goal </p>
<ul>
<li>“as the crow flies”</li>
<li>this idea, that a geometrical distance estimates a distance along a graph, is the basis of many heuristics</li>
</ul>
<p>But because it doesn’t account for cost so far, it can lead us astray</p>
<h2 id="Algorithm-A"><a href="#Algorithm-A" class="headerlink" title="Algorithm A"></a>Algorithm A</h2><p>Algorithm A combines the best of UCS and Greedy search</p>
<ul>
<li>UCS had “cost so far”</li>
<li>Greedy had “estimated cost remaining” or heuristic </li>
</ul>
<p>Algorithm A has “cost so far” + “estimated cost remaining ”</p>
<p>This is usually notated as f(n) = g(n) + h(n)</p>
<ul>
<li><em>f</em> is the overall cost/evaluation/utility function</li>
<li><em>g</em> is the cost-so-far function</li>
<li><em>h</em> is the heuristic</li>
</ul>
<p>Algorithm A </p>
<ul>
<li>is complete</li>
<li>but can be sub-optimal in node expansion</li>
</ul>
<h2 id="Algorithm-A-1"><a href="#Algorithm-A-1" class="headerlink" title="Algorithm A*"></a>Algorithm A*</h2><p>Algorithm A* uses a heuristic which is admissible</p>
<ul>
<li>this means that it never over-estimates the distance to the closest solution</li>
<li>in any graph representation of space, geometric distance has this property </li>
</ul>
<p>A* is optimal</p>
<ul>
<li>in the sense that we are guaranteed a solution if there is one</li>
<li>in the sense that the fewest possible nodes will be expanded, given this problem formulation<ul>
<li>NB re-formulating may produce better search</li>
</ul>
</li>
</ul>
<p>Exercise</p>
<ul>
<li>Using the data on the earlier slide, apply A* to the Arad-Bucharest route problem<ul>
<li>in what order are the nodes expanded?</li>
</ul>
</li>
</ul>
<h3 id="Analysing-search-algorithms-for-cost"><a href="#Analysing-search-algorithms-for-cost" class="headerlink" title="Analysing search algorithms for cost"></a>Analysing search algorithms for cost</h3><p>Proving optimality of A*</p>
<ul>
<li>Suppose there is a suboptimal goal G<sub>2</sub> in the agenda <ul>
<li>Let n be an unexpanded node on a shortest path to an optimal goal G</li>
</ul>
</li>
<li>f(G<sub>2</sub>) = g(G<sub>2</sub>)+ h(G<sub>2</sub>)<ul>
<li>but h(G<sub>2</sub>) = 0, as it’s a goal </li>
</ul>
</li>
<li>g(G<del>2</del>) &gt; g(G)<ul>
<li>because G2 is sub-optimal</li>
</ul>
</li>
<li>g(G) ≥ f(n)<ul>
<li>because h is admissible</li>
</ul>
</li>
<li>Because f(G<del>2</del>) ≥ f(n),A* will never select G<sub>2</sub> for expansion</li>
</ul>
<p>The more accurate h is, the fewer unnecessary nodes will be expanded</p>
<p><img src="/images/AI/1039152.png"></p>
<p>One way to characterise the quality of a heuristic is the effective branching factor (b*)</p>
<ul>
<li>if<ul>
<li>the total number of nodes expanded by A* for a particular problem is N</li>
<li>the solution depth is d </li>
</ul>
</li>
<li>then<ul>
<li>b* is the branching factor that a uniform tree of depth d would have to have in order to contain N nodes</li>
</ul>
</li>
<li>N =1+b+(b)^2^ +…+(b*)^d^</li>
<li><em>e.g., if A</em> finds a goal at depth 5 using 52 nodes, the effective branching factor is 1.91 </li>
</ul>
<p>Usually the effective branching factor exhibited by a given heuristic is fairly constant over a large range of problems</p>
<ul>
<li>This can be used for empirical evaluation of a heuristic’s usefulness</li>
</ul>
<h3 id="Exercise-The-8s-Puzzle"><a href="#Exercise-The-8s-Puzzle" class="headerlink" title="Exercise: The 8s-Puzzle"></a>Exercise: The 8s-Puzzle</h3><p>Choosing a heuristic function for a more abstract problem</p>
<ul>
<li>the 8s-puzzle<ul>
<li>typical solution ≈ 20 steps</li>
<li>branching factor ≈ 3 (2 if space in corner, 4 in middle, 3 otherwise)</li>
<li>exhaustive search to depth 20 examines 320 ≈ 3.5 × 109 nodes</li>
</ul>
</li>
<li>A* Heuristic must never over-estimate number of steps to goal<ul>
<li>h<sub>1</sub> = number of tiles in wrong position</li>
<li>h<sub>2</sub> = sum of Manhattan/city-block distances of tiles from their goals</li>
</ul>
</li>
</ul>
<p><img src="/images/AI/1039153.png" alt="Table comparing the search costs and elective branching factors for IDS and A* using h1 and h2. Data are averaged over 100 instances of the 8-puzzle, for various solution lengths."></p>
<ul>
<li>h<sub>2</sub> is better than h<sub>1</sub> which is better than uninformed search</li>
<li>Always use a heuristic with higher values,so long as it doesn’t overestimate</li>
</ul>
<h2 id="Further-Reading"><a href="#Further-Reading" class="headerlink" title="Further Reading"></a>Further Reading</h2><p>In Chapters 3 &amp; 4 of the textbook you can read more about search including</p>
<ul>
<li>Bidirectional search</li>
<li>Searching with partial information </li>
<li>Hill-climbing search and simulated annealing</li>
<li>Genetic algorithms </li>
<li>Online search agents</li>
</ul>

                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        Author:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">Chaoqun Yin</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        Link:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://yintelligence.tech/2021/02/21/2021-02-21-Problem-Solving-and-Search/">https://yintelligence.tech/2021/02/21/2021-02-21-Problem-Solving-and-Search/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        Reprint policy:
                    </i>
                </span>
                <span class="reprint-info">
                    All articles in this blog are used except for special statements
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    reprint polocy. If reproduced, please indicate source
                    <a href="/about" target="_blank">Chaoqun Yin</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>Copied successfully, please follow the reprint policy of this article</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">more</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/Techniques-of-Artificial-Intelligence/">
                                    <span class="chip bg-color">Techniques of Artificial Intelligence</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
        </div>
    </div>

    

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;Previous</div>
            <div class="card">
                <a href="/2021/02/21/2021-02-21-Relational-Database-Design/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/10.jpg" class="responsive-img" alt="Relational Database Design">
                        
                        <span class="card-title">Relational Database Design</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2021-02-21
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/Notes/" class="post-category">
                                    Notes
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/Databases/">
                        <span class="chip bg-color">Databases</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                Next&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2021/02/20/2021-02-20-Exercise-2---Extended-Entity-Relationship-Model/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/3.jpg" class="responsive-img" alt="Discussion 2 - Extended Entity-Relationship Model">
                        
                        <span class="card-title">Discussion 2 - Extended Entity-Relationship Model</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2021-02-20
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/Discussions/" class="post-category">
                                    Discussions
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/Databases/">
                        <span class="chip bg-color">Databases</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>


<script>
    $('#articleContent').on('copy', function (e) {
        // IE8 or earlier browser is 'undefined'
        if (typeof window.getSelection === 'undefined') return;

        var selection = window.getSelection();
        // if the selection is short let's not annoy our users.
        if (('' + selection).length < Number.parseInt('120')) {
            return;
        }

        // create a div outside of the visible area and fill it with the selected text.
        var bodyElement = document.getElementsByTagName('body')[0];
        var newdiv = document.createElement('div');
        newdiv.style.position = 'absolute';
        newdiv.style.left = '-99999px';
        bodyElement.appendChild(newdiv);
        newdiv.appendChild(selection.getRangeAt(0).cloneContents());

        // we need a <pre> tag workaround.
        // otherwise the text inside "pre" loses all the line breaks!
        if (selection.getRangeAt(0).commonAncestorContainer.nodeName === 'PRE') {
            newdiv.innerHTML = "<pre>" + newdiv.innerHTML + "</pre>";
        }

        var url = document.location.href;
        newdiv.innerHTML += '<br />'
            + 'From: Chaoqun Yin<br />'
            + 'Author: Chaoqun Yin<br />'
            + 'Link: <a href="' + url + '">' + url + '</a><br />'
            + '本文章著作权归作者所有，任何形式的转载都请注明出处。';

        selection.selectAllChildren(newdiv);
        window.setTimeout(function () {bodyElement.removeChild(newdiv);}, 200);
    });
</script>


<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;TOC</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h1, h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h1, h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    
    <div class="container row center-align" style="margin-bottom: 15px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2021</span>
            
            <span id="year">2021</span>
            <a href="/about" target="_blank">Chaoqun Yin</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            
            
            
            
            
            <span id="busuanzi_container_site_pv">
                |&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;<span id="busuanzi_value_site_pv"
                    class="white-color"></span>&nbsp;次
            </span>
            
            
            <span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;人
            </span>
            
            <br>
            
            <span id="sitetime">载入运行时间...</span>
            <script>
                function siteTime() {
                    var seconds = 1000;
                    var minutes = seconds * 60;
                    var hours = minutes * 60;
                    var days = hours * 24;
                    var years = days * 365;
                    var today = new Date();
                    var startYear = "2021";
                    var startMonth = "1";
                    var startDate = "28";
                    var startHour = "2";
                    var startMinute = "1";
                    var startSecond = "0";
                    var todayYear = today.getFullYear();
                    var todayMonth = today.getMonth() + 1;
                    var todayDate = today.getDate();
                    var todayHour = today.getHours();
                    var todayMinute = today.getMinutes();
                    var todaySecond = today.getSeconds();
                    var t1 = Date.UTC(startYear, startMonth, startDate, startHour, startMinute, startSecond);
                    var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
                    var diff = t2 - t1;
                    var diffYears = Math.floor(diff / years);
                    var diffDays = Math.floor((diff / days) - diffYears * 365);
                    var diffHours = Math.floor((diff - (diffYears * 365 + diffDays) * days) / hours);
                    var diffMinutes = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours) /
                        minutes);
                    var diffSeconds = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours -
                        diffMinutes * minutes) / seconds);
                    if (startYear == todayYear) {
                        document.getElementById("year").innerHTML = todayYear;
                        document.getElementById("sitetime").innerHTML = "本站已安全运行 " + diffDays + " 天 " + diffHours +
                            " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
                    } else {
                        document.getElementById("year").innerHTML = startYear + " - " + todayYear;
                        document.getElementById("sitetime").innerHTML = "本站已安全运行 " + diffYears + " 年 " + diffDays +
                            " 天 " + diffHours + " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
                    }
                }
                setInterval(siteTime, 1000);
            </script>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/yintelligence" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:Yintelligence@outlook.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>













</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;Search</span>
            <input type="search" id="searchInput" name="s" placeholder="Please enter a search keyword"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

	
    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
