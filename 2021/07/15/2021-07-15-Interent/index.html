<!DOCTYPE HTML>
<html lang="en">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="The Internet, Chaoqun Yin">
    <meta name="description" content="Veni, Vidi, Vici">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>The Internet | Chaoqun Yin</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery.min.js"></script>

<meta name="generator" content="Hexo 5.3.0"></head>




<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">Chaoqun Yin</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>Index</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>Tags</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>Categories</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>Archives</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>About</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>Contact</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>Friends</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="Search" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">Chaoqun Yin</div>
        <div class="logo-desc">
            
            Veni, Vidi, Vici
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			Index
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			Tags
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			Categories
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			Archives
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			About
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			Contact
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			Friends
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/blinkfox/hexo-theme-matery" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/blinkfox/hexo-theme-matery" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/16.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">The Internet</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        padding: 35px 0 15px 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        padding-bottom: 30px;
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/Advanced-IT-Networks/">
                                <span class="chip bg-color">Advanced IT Networks</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/Network/" class="post-category">
                                Network
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>Publish Date:&nbsp;&nbsp;
                    2021-07-15
                </div>
                

                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-check fa-fw"></i>Update Date:&nbsp;&nbsp;
                    2021-08-31
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>Word Count:&nbsp;&nbsp;
                    11.9k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-clock fa-fw"></i>Read Times:&nbsp;&nbsp;
                    52 Min
                </div>
                

                
                    <div id="busuanzi_container_page_pv" class="info-break-policy">
                        <i class="far fa-eye fa-fw"></i>Read Count:&nbsp;&nbsp;
                        <span id="busuanzi_value_page_pv"></span>
                    </div>
				
            </div>
        </div>
        <hr class="clearfix">

        
        <!-- 是否加载使用自带的 prismjs. -->
        <link rel="stylesheet" href="/libs/prism/prism.css">
        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <h1 id="the-internet">The Internet</h1>
<p><a href="https://yintelligence.tech/2021/04/15/2021-04-15-VUB-4020724ENR-Advanced-IT-Networks/">VUB 4020724ENR Advanced IT Networks</a> +<a target="_blank" rel="noopener" href="https://canvas.vub.be/courses/17362/files?preview=569990">Slide</a> + <a target="_blank" rel="noopener" href="https://canvas.vub.be/courses/17362/files?preview=569979">Video</a></p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/340169304">笔记</a></p>
<h2 id="the-internet-structure-and-routing">The Internet structure and routing</h2>
<h3 id="the-internet-structure">The Internet Structure</h3>
<p>如<a href="https://yintelligence.tech/2021/04/19/2021-04-19-Evolution-of-telecommunications/#toc-heading-27">第1章</a>所述，Internet是一组独立的网络，通过称为“<strong>路由器routers</strong>”的设备互连。</p>
<p><img src="/images/NET/18818.png" /></p>
<ul>
<li><p>Routers are devices that can <u>transfer data packets between different networks</u>.</p>
<p>路由器是可以<u>在<strong>不同网络</strong>之间传输数据包</u>的设备。</p></li>
<li><p>This implies that routers belong to, at least, two networks</p>
<p>这意味着路由器<strong>至少属于两个网络</strong>，</p>
<p>and have the <strong>interfaces</strong> specific to each network they are connected to.</p>
<p>并且具有特定于它们所连接的每个网络的<strong>接口</strong>。</p></li>
</ul>
<h3 id="the-internet-layer">The Internet Layer</h3>
<p>如<a href="https://yintelligence.tech/2021/07/14/2021-07-14-Communications%20Systems%20Modeling/">第2章</a>所述，network层和application层之间的中间层可以<strong>减少</strong>需要设计的<u>层间接口interlayer interface的数量</u>。</p>
<p><img src="/images/NET/18819.png" /></p>
<ul>
<li><p>On the lower side, this intermediate layer should interface with all networks, regardless of their technology and should have provisions for relaying communications through various networks, possibly based upon different technologies.</p>
<p>在较低的一侧，该中间层应与所有网络接口，而不论其技术如何，并应具有可能通过基于不同技术的各种网络中继通信的规定。</p>
<ul>
<li>路由器Routers实现此Internet层，并使用IP protocol相互通信。</li>
</ul></li>
<li><p>在上侧，中间层应与应用程序软件接口。 为此，在Internet层和application层之间放置了一个称为“<strong>传输Transport</strong>”层的附加层。</p>
<ul>
<li>为了选择通信中涉及的应用程序，Transport层添加了自己的地址集set of addresses，称为“<strong>端口号port numbers</strong>”。</li>
</ul></li>
<li><p>The Internet requires connectivity through many different networks</p></li>
<li><p>Existing networks offer diverse</p>
<ul>
<li>services levels (Connectionless / Connection Oriented)</li>
<li><u>interfaces with transport layer</u></li>
</ul></li>
<li><p>An Interface layer (the INTERNET layer) is added on top of the Network layers of each of the networks</p></li>
<li><p>The INTERNET layer ensures</p>
<ul>
<li>Uniform addressing through all networks</li>
<li>Well defined and identical services from all networks</li>
<li>A common interface with the Transport layer 1200K</li>
</ul></li>
</ul>
<h4 id="the-internet-sublayer">The Internet Sublayer</h4>
<ul>
<li><p><strong>In the OSl Community</strong></p>
<p>Less performing networks are enhanced</p>
<ul>
<li>Additional sublayer between network and internet layers : The Enhancement Sublayer.</li>
<li>Most often , <u>Connection oriented , Reliable</u></li>
<li>Inspired by X25</li>
</ul></li>
<li><p><strong>In the Internet Community ( Internet Protocol )</strong> Minimal Internet Service definition</p>
<ul>
<li>Service restricted to whatever all networks can do</li>
<li><u>Connectionless Unreliable</u></li>
<li>Inspired by Local Area Networks</li>
</ul></li>
</ul>
<p>1975年左右，很明显由电话公司开发和运营的长途电信网络ong distance telecommunication networks和由计算机行业开发的局域网local area networks需要互通。 为完成这项任务，我们进行了两项重大努力：</p>
<ul>
<li><p>一方面，联合国的两个部门国际标准化组织International standardisation organisation（ISO）和国际电联和电信委员会the Comité Consultatif International pour la Téléphonie et la Télégraphie （CCITT）都开始确定适用于两者的协议。</p>
<p>以及应保证兼容系统compliant systems的互操作性interoperability的局域网。</p></li>
<li><p>另一方面，美国政府通过高级研究计划局Advanced Research Project Agency（ARPA）向已经使用各种局域网的大约十个研究小组提供了资金，以通过美国电话公司的长途电信基础设施互连其网络， 当时叫AT＆T。 后者导致了如今被称为“互联网Internet”的问题</p></li>
</ul>
<h5 id="osi-approach">OSI approach</h5>
<p>在OSI世界中，<strong>面向连接</strong>的协议显然比无连接协议更受欢迎，并且公共电信运营商提出的网络服务可以提供面向连接<strong>connection oriented</strong>的可靠<strong>reliable</strong>服务。</p>
<p>Therefore it was quite logical to adopt as common level of service the one available from the best networks.</p>
<p>因此，采用最佳网络中可用的服务作为通用服务级别是很合逻辑的。</p>
<p>但是，这意味着<strong>所有网络</strong>，甚至是非常流行的网络（如以太网Ethernet）都<strong>需要“增强enhanced”</strong>，然后才能集成到Internet中。 可以将面向IEEE802.2面向连接connection oriented的链路控制层link control layer视为适应这一趋势的工具。</p>
<p><img src="/images/NET/18820.png" /></p>
<p>然而，在互连之前就需要增强现有网络的服务确实使大多数自发spontaneous的联网尝试networking attempts面临很高的门槛。 这可能部分解释了<u>为何OSI方法从<strong>未在大型组织中得到采用</strong></u>。</p>
<h5 id="ip-approach">IP approach</h5>
<p>ARPA互联网络的方法更为实用：</p>
<ul>
<li><p>the common service was defined in a <strong>minimalist way</strong> as the service that <u>the worst network could offer.</u></p>
<p>通用服务以<strong>最低限度的方式</strong>定义为<u>最差的网络可以提供的服务</u>。</p></li>
<li><p>This implied, of course, that services of better networks would be underutilized,</p>
<p>当然，这意味着<u>更好的网络服务将得不到充分利用</u>，</p>
<p>and that the transport layer should compensate whenever needed the shortcomings of the network service.</p>
<p>并且传输层应在需要时弥补网络服务的缺点。</p></li>
</ul>
<p><img src="/images/NET/18821.png" /></p>
<p>Despite these disadvantages, the ARPA approach clearly won over the OSI approach, possibly because it was possible to set up interconnection experiments <strong>without having to change the existing communications software,</strong> just not using some of its features was enough to allow its use for internetworking purposes.</p>
<p>尽管存在这些缺点，<u>但ARPA方法显然胜过OSI方法</u>，这可能是因为<strong>无需更改现有的通信软件</strong>即可进行互连实验，只是不使用其某些功能就足以使其用于互联网络。</p>
<h3 id="the-internet-protocol">The internet protocol</h3>
<h4 id="original-ip-services">Original IP Services</h4>
<ul>
<li>Internet-wide uniform addressing
<ul>
<li>Two part addresses
<ul>
<li>Network : identifies the network</li>
<li>Host : identifies host on a specific network (Host part = subnet identifier + host identifier)</li>
</ul></li>
</ul></li>
<li>Connectionless , unreliable datagram service</li>
<li>Fragmentation when required by network</li>
<li>Routing through the entire Internet</li>
<li>Elimination of " lost " datagrams</li>
<li>Debugging facilities</li>
<li>Special transmission modes</li>
</ul>
<p>IP协议提供了一种<u>统一的寻址方案uniform addressing scheme</u>，该方案可以映射到任何<u>基础网络underlying network</u>的寻址上。</p>
<p>IP地址基本上有两个部分:</p>
<ul>
<li>一个部分定义一个网络</li>
<li>另一个部分定义连接到该网络的计算机</li>
</ul>
<p>当互连网络的数量增加，并且出于<strong>可靠性eliability</strong>和<strong>吞吐量throughput</strong>的目的，计算机开始具有与<strong>单个</strong>网络single network的<strong>多个</strong>接口（请参阅IPv6寻址）时，必须稍微扩展这个最初简单的定义。</p>
<p>IP提供的连接服务是<strong>无连接connectionless</strong>的，这意味着IP协议可以由<strong>无状态实体stateless entities</strong>来实现，它通过网络独立地路由每个数据报datagram，并且<strong><u>无法检测到数据报datagram的丢失</u></strong>。</p>
<p>As each network sets an upper limit on the size of the packets it can carry, it can be necessary to cut a packet in parts before it can travel through a network with a lower size limit than its neighbors.</p>
<p>由于每个网络都设置了可以<u>携带的数据包大小的上限upper limit</u>，因此有必要在将数据包通过大小限制低于其邻居的网络之前将其<strong>分成几部分</strong>。</p>
<p>Due to <strong>incoherence</strong> in routing tables a packet might enter a <strong>loop</strong>. IP will eliminate it after some time to avoid cluttering the network with lost packets.</p>
<p>由于路由表的<strong>不一致性</strong>，数据包可能会进入<strong>环路</strong>。 IP将在一段时间后将其消除，以避免丢失数据包使网络混乱。</p>
<p>Finally, IP provides special services intended to <strong>debug</strong> the protocol implementations, to check the proper operation of the underlying networks and to force special routes for specific datagrams.</p>
<p>最后，IP提供了旨在调试协议实现，检查基础网络正常运行并为特定数据报强制特殊路由的特殊服务。</p>
<h4 id="routing-mechanism-路由机制">Routing mechanism 路由机制</h4>
<p>为了清楚起见，在此示例中，将使用一位数字的网络network和主机host标识符identifiers。</p>
<p>实际上，它们在现代IPv6地址中每个都有64 bits长，而在仍是最常用的IP版本（即IPv4）中，网络和主机部分的位数随网络大小的变化而变化，但是他们的总和总是32。</p>
<p><strong>Example:</strong></p>
<p>为了说明路由机制，将说明从1.5到5.5的数据包向后传输。</p>
<p><img src="/images/NET/18822.png" /></p>
<p>每个连接的设备都包含一个<strong>路由表routing table</strong>，该表为所有可能的网络提供了要遵循的路由上的<u>第一个路由器的地址</u>。 设备1.5中的表说，要到达网络5，应将数据包发送到地址1.1，即路由器。</p>
<p><img src="/images/NET/18823.png" /></p>
<p>the router accessed through address 1.1 also has a routing table, telling that to reach network 5, the packet should be sent to address 2.2, which is also a router.</p>
<p>通过地址1.1访问的路由器router.也有一个路由表，告知要到达网络5，该数据包应发送到地址2.2，该地址也是路由器router.。</p>
<p><img src="/images/NET/18824.png" /></p>
<p>As the router accessed via address 2.2 has also an interface with network 5, the router can directly deliver the packet at 5.5, the final destination.</p>
<p>由于通过地址2.2访问的路由器还具有与网络5的接口，因此路由器可以直接在最终目的地5.5处传递数据包。</p>
<p><img src="/images/NET/18825.png" /></p>
<p>If 5.5 wants to answer the received packet, the answer does not necessarily take the same route. In this example it will go via network 3 rather than via network 2.</p>
<p>如果5.5要回答接收到的数据包，则答案不一定采用相同的路由。 在此示例中，它将通过网络3而不是网络2。</p>
<p><img src="/images/NET/18826.png" /></p>
<p>The routing tables are filled in by a specific software that <strong>periodically explores</strong> the entire internet and determines which are the best routes to go from any network to any other.</p>
<p>路由表由特定的软件填充，该软件会<strong>定期浏览</strong>整个Internet并确定从任何网络到任何其他网络的最佳路由。</p>
<h4 id="ip-datagram-fragmentation-碎片化">IP datagram fragmentation 碎片化</h4>
<p>The IP protocol allows routers to cut datagrams in parts and forward them as separate datagrams. This process is called “<strong>fragmentation</strong>”.</p>
<p>IP协议允许路由器将数据报分割成一部分并将其作为单独的数据报转发。 该过程称为“<strong>碎片化</strong>”。</p>
<p><img src="/images/NET/18841.png" /></p>
<ul>
<li><p>Packet size exceeds maximum size in network</p>
<p>数据包大小超过网络中的最大大小</p></li>
<li><p>Excessive delay jitter due to long package</p>
<p>长封装导致延迟抖动过大</p></li>
</ul>
<p>Fragmentation can be required when the datagram size exceeds the maximum allowed packet size in a network a router needs to use to carry the datagram to its final destination.</p>
<p>当数据报大小超过路由器用来将数据报传送到其最终目的地所需的网络中允许的最大数据包大小时，可能需要分段。</p>
<p>Fragmentation can also be used by routers when a link needed for a high priority short datagram is kept busy by a low priority very long datagram. The router can then interrupt the transmission of the low priority datagram, transmit the high priority one and resume the transmission of the interrupted one without having to retransmit the already transmitted fragment.</p>
<p>当高优先级短数据报所需的链路被低优先级很长数据报保持繁忙时，路由器也可以使用分段。 然后，路由器可以中断低优先级数据报的传输，传输高优先级的数据报，然后继续传输被中断的数据报，而不必重新传输已经传输的片段。</p>
<p>When fragmentation occurs, the payload is cut into parts and each part is transmitted as an independent datagram, with an appropriate header.</p>
<p>发生碎片时，有效负载被切成几部分，并且每个部分作为具有适当头的独立数据报进行传输。</p>
<h4 id="ipv4">IPv4</h4>
<p>最初，存在三种地址类别，分别对应于不同的网络大小：</p>
<ul>
<li>A类：126个网络，最多可容纳1600万台主机。</li>
<li>B类：16382个网络，最多可容纳65534个主机。</li>
<li>C类：200万个网络，最多可容纳254个主机。</li>
</ul>
<p>The rigidity of the different network classes led to a waste of addresses, while their number is the major limitation of IPv4. Therefore the rigid classes have been abandoned and the number of bits for identifying the network and the host are now free, as long as their sum is 32.</p>
<p>不同网络类别的刚性导致地址的浪费，而它们的数量是IPv4的主要限制。因此，刚性类已被放弃，用于标识网络和主机的位数现在是空闲的，只要它们的总和为32。</p>
<p><img src="/images/NET/18838.png" /></p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://www.zhihu.com/question/56895036">如何理解子网掩码？</a></p>
</blockquote>
<p>因此，每个地址都关联了一个<strong>32位掩码 mask</strong>:</p>
<blockquote>
<p>问题就来了，<strong>在同一个局域网下的两个设备，并不需要通过Internet进行交流，有什么方法可以让他们便捷的认清对方，并建立本地连接呢？</strong></p>
<p>IPv4提供了一个特性：MASK（子网掩码），也是由32bits构成的序列，1处代表该部分处于同一局域网，0处代表不处于。</p>
</blockquote>
<ul>
<li><p>Bits corresponding to the network part of the address correspond to 1’s in the mask</p>
<p>与地址的网络部分相对应的位对应于掩码中的1</p></li>
<li><p>the host identifying bits correspond to the 0’s in the mask</p>
<p>而主机标识位对应于掩码中的0</p></li>
</ul>
<p>两种不同的<strong>速记符号shorthand notations</strong>用于指定掩码：</p>
<ul>
<li><p>the first uses 4 decimal numbers separated by dots and is similar to the notation used for addresses</p>
<p>第一种使用4个由点分隔的十进制数字，并且类似于用于地址的符号。</p>
<ul>
<li>例如，与不带子网的C类地址（网络的24位，主机的8位）相对应的掩码为255.255.255.0，而在其子网之一（最多可容纳30个主机）中，掩码为255.255 .255.224。</li>
</ul></li>
<li><p>In the other shorthand notation, the number of leading ones in the mask is written after a / at the end of the IP address.</p>
<p>在另一种简写形式中，掩码中的前导数字写在IP地址末尾/之后。</p>
<ul>
<li>这里以子网为例的地址将被标记为xxx.xxx.xxx.xxx/27，例如195.1.133 / 27。</li>
</ul></li>
</ul>
<h5 id="ipv4-datagram-format-数据包">IPv4 datagram format 数据包</h5>
<p><img src="/images/NET/18839.png" /></p>
<p>Each IP datagram starts with an <strong>header</strong>.</p>
<p>每个IP数据报均以<strong>标头</strong>开头。</p>
<ul>
<li><p>This header is of variable length because it can contain several option fields, but its length is always a multiple of 32 bits.</p>
<p>此标头的长度可变，因为它可以包含多个选项字段，但是其长度始终是32位的倍数。</p></li>
<li><p>If needed, the header is filled up so that the header has the required length (<strong>padding</strong>)</p>
<p>如果需要，将填充标题，以便标题具有所需的长度（<strong>填充padding</strong>）</p></li>
</ul>
<h5 id="ipv4-datagram-header">IPv4 datagram Header</h5>
<p><img src="/images/NET/18840.png" /></p>
<ul>
<li><code>Ver</code>
<ul>
<li>Protocol version, incompatibale datagrams are rejected</li>
</ul></li>
<li><code>Len</code>
<ul>
<li>Length of header, in 32 bit words</li>
</ul></li>
<li><code>Tot.Length</code>
<ul>
<li>Length in bytes, of te entire datagram</li>
</ul></li>
</ul>
<p>The header contains a 4 bit version number field. In IP v4, this field always contains the binary value 0100.</p>
<p>标头包含4位版本号字段。 在IPv4中，此字段始终包含二进制值0100。</p>
<p>The 4 bit <code>LEN</code> field gives the length of the header expressed in 32 bit words.</p>
<p>4位LEN字段给出以32位字表示的标头长度。</p>
<p>The 16 bit Total Length field gives the total length of the datagram, expressed in bytes. This means that the longest datagram IP can handle is 65536 bytes long.</p>
<p>16位的总长度字段给出了数据报的总长度，以字节为单位。 这意味着IP可以处理的最长数据报长度为65536字节。</p>
<ul>
<li><code>Typ.Ser.</code>
<ul>
<li>Precedence
<ul>
<li>0 = normal</li>
<li>7 = control</li>
</ul></li>
<li>D = Short delay wanted (best effort)</li>
<li>T = High throughput wanted (best effort)</li>
<li>R = High reliabilty wanted (best effort)</li>
</ul></li>
</ul>
<p>The <code>Typ.Ser.</code> 8 bit field allows to <u>define a <strong>priority</strong></u> (between 0 for normal traffic to 7 for control messages) and a preferred mode of routing.</p>
<p>典型值 <strong>8位字段</strong>允许<strong>定义优先级</strong>（在正常流量的0到控制消息的7之间）和优选的路由模式。</p>
<p>需要三个头字段来<strong>控制分段fragmentation</strong>。</p>
<ul>
<li><p>The 16 bit <code>Ident</code> field is a unique identifier assigned by the fragmenting router to the original datagram allowing its reconstruction from its fragments.</p>
<p>16位<code>Ident</code>字段是由分段路由器分配给原始数据报的唯一标识符，允许从其分段中进行重构。</p></li>
<li><p>The 16 bit <code>Ident field</code> is a unique identifier assigned by the fragmenting router to the original datagram allowing its reconstruction from its fragments.</p>
<p><code>Frag.Offset</code>字段为每个片段提供其在原始数据报中的位置。</p></li>
<li><p><code>Fl</code>字段包含两个标志</p>
<ul>
<li><p>一个指示该片段是原始数据报的最后一个 indicate that this fragment is the last one of the original datagram</p></li>
<li><p>另一个标志允许数据报的发送者指定不允许分段 allows the sender of a datagram to specify that fragmentation is not allowed</p>
<p>设置此标志后，只要数据包的长度超过给定链路上的最大允许长度，就会丢弃该数据包。</p>
<p>When this flag is set, whenever the length of a packet exceeds the maximum allowed length on a given link, the packet is dropped.</p></li>
</ul></li>
</ul>
<p>The TTL field is used to eliminate lost datagrams that, due to some routing error, are caught in a loop. Each router decrements the contents of the TTL field and whenever it reaches 0 the datagram is dropped.</p>
<p><strong>TTL字段</strong>用于消除由于某些路由错误而陷入环路的丢失数据报。每个路由器都会递减TTL字段的内容，并且每当到达0时，数据报就会被丢弃。</p>
<p>The normal initial value for the TTL field is 255.</p>
<p>TTL字段的正常初始值为255。</p>
<p>As a router sends a control message to the source address of a packet it deletes, the TTL field can be used to explore the route packets with a specific destination will take: a sequence of packets, with TTL fields containing 1,2,3 etc are sent and each encountered router will send a control message to the sender.</p>
<p>当路由器向其删除的数据包的源地址发送控制消息时，TTL字段可用于探索具有特定目的地的路由数据包： 其中TTL字段包含1,2,3等，并且每个遇到的路由器都会向发送者发送一条控制消息。</p>
<p>The <strong>Proto field</strong> identifies the protocol used in the payload.</p>
<p>This is against the concept of a layered system, as the protocol at a given layer should not be aware of the protocols used at an other layer, but the Internet protocols emphasize more pragmatism and usefulness than strict obedience to formal rules.</p>
<p><strong>原始字段</strong>标识有效载荷中使用的协议。</p>
<p>这与分层系统的概念背道而驰，因为给定层的协议不应该知道另一层使用的协议，但是Internet协议比严格遵守正式规则更强调实用主义和实用性。</p>
<p>As an error in the header could jeopardize proper operation of the IP layer, a modulo 216 sum of the entire header is computed and written in the Header Checksum field for <strong>error detection</strong> purposes. If an header error is detected, the entire datagram is dropped.</p>
<p>由于报头中的错误可能会危害IP层的正常运行，因此将计算整个报头的模216和，并将其写到报头校验和字段中，以进行<strong>错误检测</strong>。如果检测到标头错误，则会丢弃整个数据报。</p>
<p>The <strong>options field</strong> is a variable length field</p>
<p><strong>选项字段</strong>是可变长度字段，</p>
<ul>
<li><p>allows specifying various options to be handled by the IP layer</p>
<p>它允许<u>指定IP层要处理的各种选项</u></p>
<ul>
<li><p>For instance, one can impose the route a datagram should follow, regardless of the routing tables in the router or request each router to add a timestamp in the header of the datagram.</p>
<p>例如，无论路由器中的路由表是什么，都可以强加数据报应遵循的路由，或者请求每个路由器在数据报的报头中添加时间戳</p></li>
</ul></li>
<li><p>It is also through the option field that secure transmission modes such as IPSEC can be implemented.</p>
<p>也可以通过选项字段来<u>实现IPSEC等安全传输模式</u></p></li>
</ul>
<h4 id="network-address-translation-网络地址转换器-nat">Network Address Translation 网络地址转换器 (NAT)</h4>
<p>The shortage of Internet addresses has partially been solved by sharing a single address among several hosts.</p>
<p>通过在多个主机之间共享一个地址，部分解决了Internet地址短缺的问题。</p>
<blockquote>
<p>因为根据定义，IP地址是有限的，所以早晚会有用完的那一天。那么可以把内网（Intranet）的地址重新定义，在外部只表现为1个IP地址，这样就能大大减少IP地址的数量。</p>
</blockquote>
<p><img src="/images/NET/18842.png" /></p>
<ul>
<li>Work-around for solving IPv4 address shortage</li>
<li>Maps many intranet addresses into a single internet address</li>
<li>Uses TCP or UDP non standard port numbers to identit hosts in the intranet</li>
<li>A <strong>NAT device can not be stateless</strong> and therefore is <u>a reliability threat</u></li>
<li>To establish a connection , only one end can be behind a NAT and that end needs to initiate the connection</li>
<li>Is believed by some to increase intranet security</li>
<li>Is a good excuse for further delaying IPv6 deployment</li>
</ul>
<p>A local network is connected to the Internet by means of a kind of router, called <strong>Network Address Translator</strong>.</p>
<p>局域网通过一种称为<strong>网络地址转换器</strong>的路由器连接到Internet。</p>
<p>On the Internet side, the NAT behaves as a single host, while on the side of the local network it behaves like a normal Router.</p>
<ul>
<li>在Internet方面，NAT充当单个主机 single host</li>
<li>在本地网络中，NAT充当普通路由器Router</li>
</ul>
<p>The local network can have <strong>any network number</strong> as it is not visible beyond the NAT, but specific network numbers, such as 192.168 have been reserved for that usage and normal routers wont route packets carrying such addresses, prohibiting effectively any direct traffic between the Internet and the local network.</p>
<p>本地网络可以具有<strong>任何网络号</strong>，因为它在NAT之外不可见，但是已为该用途保留了特定的网络号（例如192.168），并且普通路由器不会路由携带此类地址的数据包，从而有效地禁止了Internet与本地网络。</p>
<p>For outgoing packets, the NAT <strong>replaces the origin IP address by the shared IP address</strong> and the origin <strong>port number</strong> by a new unique port number identifying both the original port number and the original local IP address.</p>
<p>This unique port number is stored in the NAT so that, when an answer packet arrives, its destination IP address and port number can be replaced by the local address and port number.</p>
<p>对于传出数据包，NAT<strong>用共享的IP地址替换原始IP地址</strong>，并用新的唯一<strong>端口号</strong>替换原始端口号，新的唯一端口号同时标识了原始端口号和原始本地IP地址。</p>
<p>此唯一的端口号存储在NAT中，以便在应答数据包到达时，可以用本地地址和端口号替换其目标IP地址和端口号。</p>
<h5 id="connection-建立连接">Connection 建立连接</h5>
<p>To <strong>establish a connection</strong>, only one end can be behind a NAT and that end needs to initiate the connection unless local addresses and their corresponding port numbers are permanently programmed in the NAT device.</p>
<p>要<strong>建立连接</strong>，只有一端可以位于 NAT 之后，并且该端需要发起连接，除非本地地址及其相应的端口号已在 NAT 设备中永久编程。</p>
<h4 id="ipv6">IPv6</h4>
<p>With 128 bit addresses, the Internet community hopes to have solved for any foreseeable future the shortage of addresses issue.</p>
<p>借助128位地址，Internet社区希望在可预见的将来解决地址短缺问题。</p>
<ul>
<li>Represented as 8 groups of 4 hex digits, seperated by colons,leading zeros suppressed.</li>
</ul>
<p>Very little of the available address space has been assigned to specific purposes, only broad categories of addresses have been defined.</p>
<p>很少有可用地址空间已分配给特定目的，仅定义了大范围的地址。</p>
<p>The Global Unicast category corresponds roughly to the present IPv4 addresses. The NSAP and IPX categories have been reserved to facilitate the conversion to IP of networks using legacy protocols such as the OSI level 3 protocol used in DECNET and IPX used in the Novell PC networks.</p>
<p>全球<strong>单播</strong>类别大致对应于当前的IPv4地址。 保留了NSAP和IPX类别，以促进使用传统协议（例如DECNET中使用的OSI 3级协议和Novell PC网络中使用的IPX）的网络向IP的转换。</p>
<p>The size of the Multicast addresses has also been considerably extended so that multicasting could be used on a large scale for commercial video on demand applications without having to reuse the same identifications within a commercially meaningful time span.</p>
<p><strong>多播地址</strong>的大小也已得到相当大的扩展，因此多播可大规模用于商业视频点播应用，而不必在商业上有意义的时间段内重复使用相同的标识。</p>
<h5 id="unicast-addresses">Unicast addresses</h5>
<p><img src="/images/NET/18843.png" /></p>
<p>The 128 bits of an IPv6 address have been subdivided in order to allow hierarchical routing of packets through the internet.</p>
<p>IPv6地址的128位已细分，以便允许通过Internet进行数据包的分层路由。</p>
<p>Different address formats are used for different purposes, the format of the unicast addresses is explained here.</p>
<p>不同的地址格式用于不同的目的，此处说明单播地址的格式。</p>
<ul>
<li><p><code>TLA</code>: the top level aggregation identifier (TLA ID). 13位，</p>
<p>地址的第一部分是顶级聚合标识符（TLA ID）。</p>
<ul>
<li><p>It is for the selection of the 8190 major Internet Service Providers;</p>
<p>允许选择多达8190个主要的Internet服务提供商。</p></li>
</ul></li>
<li><p><code>NLA</code> 24位</p>
<p>下一个24位宽的字段称为“下一层聚合标识符”（NLA ID）</p>
<ul>
<li><p>next level aggregation identifier (NLA ID) identifies the 16 million customer sites connected to a specific ISP;</p>
<p>用于标识连接到特定ISP的多达1600万个客户站点</p></li>
</ul></li>
<li><p><code>res</code> 未分配8位</p>
<ul>
<li><p>在TLA和NLA字段之间，未分配8位。</p></li>
<li><p>can be added to <code>TLA</code> or <code>NLA</code> when needed;</p>
<p>根据互联网在大量相对较小的ISP之间（或相反，在少数非常大的ISP之间）发展的方式，可以在需要时将这些位添加到<code>TLA</code>或<code>NLA</code>字段中。</p></li>
</ul></li>
<li><p><code>SLA</code> 18位</p>
<p>站点级别聚合标识符</p>
<ul>
<li><p>site level aggregation identifier allows 256000 subnets on a particular site, like a university campus;</p>
<p>允许在特定站点（例如公司或大学校园）上最多256000个子网</p></li>
</ul></li>
<li><p><code>INT</code> 64位</p>
<p>最低有效位</p>
<ul>
<li><p>identify a given host interface on a specific network;</p>
<p>地址的标识了特定网络上的给定主机接口</p>
<p>equivalent yo v4 host identifier, but now, a single computer can have several interfaces</p></li>
<li><p>选择如此长的主机标识符可以使站点管理器采用唯一的MAC地址作为主机标识符，而无需在IP地址和MAC地址之间进行转换。</p></li>
</ul></li>
</ul>
<h5 id="anycast-address-任播地址">Anycast address 任播地址</h5>
<p><img src="/images/NET/18844.png" /></p>
<p>An anycast address is a set of unicast addresses giving addresses to the same resources, so that a datagram send to an anycast address only needs to delivered at one of the unicast addresses that constitute the anycast address.</p>
<p>任播地址是<u>将地址分配给<strong>相同资源</strong>的一组单播地址</u>，因此发送到任播地址的数据报仅需在构成任播地址的单播地址之一处传递。</p>
<p>This technique can be very attractive for computer having <strong>redundant network interfaces</strong> or for <u>subnetworks accessible via <strong>several routes</strong></u>.</p>
<p>对于<u>具有<strong>冗余</strong>网络接口的计算机或可通过<strong>几条路径</strong>访问的子网</u>，此技术可能非常有吸引力。</p>
<h5 id="unicast-vs-anycast">Unicast VS Anycast:</h5>
<ul>
<li>Unicast 是点对点传播</li>
<li>Anycast是有用一个地址源可以指向一组地址：大大提高了效率</li>
</ul>
<h5 id="ipv6-header">IPv6 Header</h5>
<p>As simultaneous change of all IP entities on the entire Internet is unthinkable, IPv4 and IPv6 should be able to coexist on the Internet, even if they can not interoperate without conversion gateways. The possibility of coexistence results from the inclusion at the beginning of the header of the Version field.</p>
<p>由于无法同时更改整个Internet上所有IP实体，因此IPv4和IPv6应该能够在Internet上共存，即使没有转换网关也无法互操作。 共存的可能性是由于在Version字段的标题的开头包含了。</p>
<p>Comparing the IPv4 and IPv6 headers, one notices that many of the fields of IPv4 have disappeared, that two new fields, <code>Next Header</code> and <code>Flow Label</code> have appeared and that the length of the source and destination addresses have increased from 32 to 128 bits.</p>
<p>比较IPv4和IPv6标头时，人们注意到IPv4的许多字段都消失了，出现了两个新字段，即<code>Next Header</code>和<code>Flow Label</code>，并且源地址和目标地址的长度从32位增加到128位。</p>
<p>The Next header field allows to insert, whenever needed, additional specific headers for secure communications or any other optional features, without overloading abusively the header of the majority of datagrams that do not require such extensions.</p>
<p><code>Next header</code>字段允许在需要时插入其他特定的报头以进行安全通信或任何其他可选功能，而不会滥用大多数不需要这种扩展的数据报的报头。</p>
<p>In order to allow multimedia applications on the Internet some measures had to be taken to allow resource reservation and traffic differentiation.</p>
<p>Adding one bit to the Priority field allows to define 16 classes of traffic:</p>
<p>为了允许Internet上的多媒体应用程序，必须采取一些措施来允许资源保留和流量区分。</p>
<p><img src="/images/NET/18845.png" /></p>
<p>向<code>Priority</code>字段添加一位可以定义16种流量类别：</p>
<ul>
<li><p>The 8 lower priorities are intended for applications where correctness is more important than delay which typically use TCP as transport protocol.</p>
<p>较低的8个优先级适用于正确性比延迟更重要的应用</p>
<p>延迟通常使用<strong>TCP</strong>作为传输协议</p></li>
<li><p>The 8 higher priorities are reserved for applications where delay is an important quality of service criterion.</p>
<p>对于延迟是重要服务质量标准的应用，保留了8个较高的优先级</p>
<p>Such applications typically use UDP as transport protocol.</p>
<p>这样的应用程序通常使用<strong>UDP</strong>作为传输协议</p></li>
</ul>
<p><img src="/images/NET/18846.png" /></p>
<p>The <code>Flow Label</code>, when different from zero, concatenated with the source IP address can be used to inform routers that a large number of packets will be sent to the same address. Routers then have the opportunity to set up a kind of virtual circuit and even to reserve resources for handling that flow in a more efficient way than with the traditional, stateless, Internet Protocol.</p>
<p>流标签<code>Flow Label</code>（不同于零）与源IP地址串联在一起时，可用于通知路由器大量数据包将被发送到同一地址。 这样，路由器就有机会建立一种虚拟电路，甚至有机会比传统的无状态Internet协议更有效地处理资源。</p>
<h4 id="ipv4-to-ipv6-transition">IPv4 to IPv6 Transition</h4>
<p>从IPv4到IPv6的过渡显然不可能在一个普遍达成共识的时刻完成。在提出IPv6时，IETF已计划通过<strong>双栈主机dual stack hosts</strong>和<strong>双栈网络dual stack networks</strong>实现平稳过渡。</p>
<p><img src="/images/NET/18847.png" /></p>
<p>In a dual stack architecture IPv4/IPv6 the v4 and v6 network entities coexist and handle each their specific traffic. It was planned that quickly v4 traffic would vanish and that only v6 entities would be needed after some time.</p>
<p>在双堆栈体系结构IPv4 / IPv6中，v4和v6网络实体共存并处理它们各自的特定流量。根据计划，v4流量将很快消失，一段时间后仅需要v6实体。</p>
<blockquote>
<p>Windows和Linux的所有最新版本均支持IPv4和IPv6。</p>
</blockquote>
<h5 id="dual-stack-quick-upgrade-by-isps">Dual stack + quick upgrade by ISPs</h5>
<p><img src="/images/NET/18848.png" /></p>
<p>由于新的v4地址在世界大部分地区不再可用，因此由IETF提出的提议的，平稳的过渡方案变得越来越难以遵循，并且由于美国和欧洲的ISP并不期望昂贵的费用能带来短期收益升级，他们会继续推迟升级，这使得升级越来越困难，成本也越来越高。</p>
<p>尽管在欧洲，政府的压力迫使ISP朝IPv6迈进，但许多人担心升级不会在美国进行，而它们将与过时的v4保持一致，就像美国工业界对度量系统所做的那样。</p>
<p>在过渡时期，绝大多数网络和服务器将同时支持v4和v6。 在客户端方面，大多数也将同时支持这两种协议，而一些较旧的客户端将仍然受v4的限制，而较新的客户端将不再关心v4，而只能使用v6。</p>
<p>Clients supporting only v4 could only access dual stack servers and (obsolete) v4 servers. The new clients with only v6 would not be able to access v4 only servers.</p>
<p>仅支持v4的客户端只能访问双堆栈服务器和（过时的）v4服务器。 仅具有v6的新客户端将无法访问仅v4的服务器。</p>
<h5 id="dual-stack-tunnels-when-needed">Dual stack + tunnels when needed</h5>
<p><img src="/images/NET/18849.png" /></p>
<p>As not all network operators would upgrade quickly their networks in order to support both v4 and v6, v4 traffic could be carried through v4 networks by means of tunnels between routers. Such tunnels would carry v6 packets as payload inside v4 packets, ensuring transfer of v6 packets between v6 networks via v4 networks.</p>
<p>由于并非所有网络运营商都会快速升级其网络以支持v4和v6，因此可以通过路由器之间的<strong>隧道tunnels</strong>通过v4网络承载v4流量。 这样的隧道会将v6数据包作为v4数据包内部的有效负载进行传输，从而确保v6数据包之间通过v4网络在v6网络之间传输。</p>
<h3 id="routing-algorithms-路由算法">Routing algorithms 路由算法</h3>
<h4 id="routing">Routing</h4>
<ul>
<li>Best route is application dependent
<ul>
<li>Shortest latency</li>
<li>Highest throughput</li>
<li>Lowest cost</li>
</ul></li>
<li>Best route can change
<ul>
<li>Nodes can go down or can become congested</li>
<li>Links can be interrupted</li>
<li>New links can be added</li>
</ul></li>
<li>Best routes maintained by exploring periodically the network</li>
</ul>
<p>到达给定目的地的“最佳”路线取决于如何定义“最佳”概念。它可以是最短，最便宜，最快，最安全或最可靠的路线。</p>
<p>it is even possible that routers maintain several different routes, which are selected in function of the nature of the <strong>payload</strong> to be transferred.</p>
<p>路由器甚至有可能维护若干不同的路由，这些路由是根据要传输的<strong>有效负载payload</strong>的性质来选择的。</p>
<p>It is almost impossible to maintain manually routing tables, especially when characteristics of links can change dynamically.</p>
<p>几乎<strong>不可能</strong>维护<strong>手动</strong>路由表，<u>尤其是当链接的特性可以动态更改时。</u></p>
<p>Most routing tables are maintained by sending periodically messages to all other routers and by analyzing the answers.</p>
<p>通过定期向所有其他路由器发送消息并分析答案来<strong>维护</strong>大多数路由表。</p>
<h4 id="routing-tables-路由表">Routing tables 路由表</h4>
<p>为了在无连接网络中建立连接或路由单个数据包，需要一个表，该表给出了网络中任何两个终端之间的最佳路由。</p>
<p><img src="/images/NET/18827.png" /></p>
<ul>
<li>For each nide, a routing table gives the link to use to reach all other nodes.</li>
</ul>
<p>An efficient way of structuring such a table consists in defining for each router, a table that gives, for each possible destination, the outgoing link to use.</p>
<p>构造此类表的有效方法是为每个路由器<strong>定义一个表</strong>，该表为每个可能的目的地提供要使用的传出链接。</p>
<p>This is not in contradiction with the fact that routers belong to at least two different networks, but considers only the links established to an other router through these networks.</p>
<p>这与路由器至少属于两个不同的网络并不矛盾，而是仅考虑通过这些网络建立到另一个路由器的链路。</p>
<h4 id="centralized-vs.-distributed-routing">Centralized vs. Distributed routing</h4>
<p>路由表的初始设置和维护可以是集中式centralized过程，也可以是分布式distributed过程。</p>
<p><img src="/images/NET/18828.png" /></p>
<ul>
<li><strong>Centralized</strong>: A single entity performs computational functions for determining functions the best route</li>
<li><strong>Distributed</strong>: Each entity performs computational functions and shares a distributed state</li>
</ul>
<h5 id="centralized-routing-集中式路由">Centralized routing 集中式路由</h5>
<p>In a centralized approach the routing tables for all routers are kept in one <strong>management center</strong>, that gets information about the status of the routers and the links via a (logically) separate signaling network.</p>
<p>在一种<strong>集中式centralized方法</strong>中，所有路由器的路由表都保存在一个管理中心management center，该管理中心通过（逻辑上）独立的信令网络signaling network获取有关路由器和链路状态的信息。</p>
<p>This approach is mainly used in connection oriented networks where the (virtual) circuits have a long persistence (from days to years).</p>
<p>这种方法主要用于（虚拟）电路<strong>持续时间长（从几天到几年）</strong>的面向连接的网络。</p>
<h5 id="distributed-routing-分布式路由">Distributed routing 分布式路由</h5>
<p>For circuits with a <strong>shorter live-time</strong>, or for connectionless networks, a distributed approach is preferred for scalability and reliability.</p>
<p>对于<strong><u>实时时间较短</u></strong>的电路，或者对于无连接网络，为了<strong>可扩展性scalability</strong>和<strong>可靠性reliability</strong>，首选分布式方法。</p>
<p>Each router maintains its own routing table and uses a distributed algorithm to fill it in and to maintain it.</p>
<p><u>每个路由器都维护自己的路由表</u>，并使用分布式算法对其进行填写和维护。</p>
<h3 id="distributed-routing-algorithms">Distributed routing algorithms</h3>
<p>Two main families of routing algorithms :</p>
<ul>
<li><p><strong>Distance Vector</strong></p>
<ul>
<li><p>By questioning its neighbors , each node determines, for all destinations . what link to use and the corresponding distance</p>
<p>通过<strong>询问其邻居</strong>，每个节点确定所有目的地。 使用什么链接和对应的距离</p></li>
</ul></li>
<li><p><strong>Link State</strong></p>
<ul>
<li><p>By broadcasting the state of all its links each node allows the other nodes to build their own map of the network .</p>
<p>通过<strong>广播其所有链接的状态</strong>，每个节点允许其他节点构建自己的网络地图。</p>
<p>Each node finds the best routes by exploring its map</p>
<p>每个节点通过探索其地图找到最佳路线</p></li>
</ul></li>
</ul>
<p>These two families count many variants</p>
<h4 id="comparision">Comparision</h4>
<p><strong>距离矢量Distance Vector（DV）算法</strong>是一种分布式算法：</p>
<ul>
<li><p>每个节点都有一个路由表，为每个可能的目的地提供距离distance和起始链接starting link。</p></li>
<li><p>每个节点定期询问其所有直接邻居immediate neighbors，其路由表中记录的距离是多少，并相应地更新其自己的路由表。</p></li>
<li><p>Bellman and Ford have shown that this algorithm converges towards an optimal routing scheme</p>
<p>Bellman和Ford已经表明，该算法可以收敛到最佳路由方案</p></li>
<li><p>But in case of link failures, this convergence can be slow and <strong>transient loops</strong> can appear.</p>
<p>但是在<strong>链路故障</strong>的情况下，这种<u>收敛可能会<strong>很慢</strong></u>，并且会出现<strong>瞬态环路</strong>。</p></li>
</ul>
<p>使用<strong>链接状态Link State算法</strong>时:</p>
<ul>
<li><p>Each node <strong>periodically</strong> broadcasts its <u>identity</u> and <u>the distance to each of its neighbors</u>.</p>
<p>每个节点都会<strong>定期广播</strong>其<u>标识</u>和与<u>每个邻居的距离</u>。</p></li>
<li><p>These broadcasts allow each node to build its <u>own map of the network.</u></p>
<p>这些广播允许每个节点建立<u>自己的网络图</u>。</p></li>
<li><p>By using the <strong>Dijkstra’s algorithm</strong> to find the shortest path through a graph, a node can determine the best route to any destination.</p>
<p>通过使用Dijkstra的算法找到通过图形的最短路径，节点可以确定到任何目的地的最佳路线。</p></li>
<li><p>This algorithm causes <strong>more overhead</strong> than DV but avoids the problems resulting from the slow convergence.</p>
<p>该算法比DV引起<strong>更多的开销</strong>，但<u>避免了收敛速度慢带来的问题</u>。</p></li>
</ul>
<h4 id="the-dv-algorithm-距离矢量算法">The DV Algorithm 距离矢量算法</h4>
<p>在Internet的早期阶段中使用的距离矢量Distance Vector路由算法是如何工作的，这里将通过一个简短的示例进行说明。</p>
<p>每个路由器都应该知道其到所有邻居的距离，并维护一个动态表:</p>
<ul>
<li>其中包含到所有其他路由器的最已知距离</li>
<li><strong>如果未知，则认为该距离是无限的</strong>。</li>
</ul>
<p>每个路由器都会<u>定期询问其邻居到指定目的地的距离</u>。 例如，在上图中，路由器E询问其所有邻居到VUB的最短距离是多少。 下表总结了答案：</p>
<p><img src="/images/NET/18829.png" /></p>
<ul>
<li>A is at distance 10 from VUB and at distance 1 from E. Via A, VUB is at 11.</li>
<li>B is at distance 5 from VUB and at distance 4 from E. Via B, VUB is at 9.</li>
<li>C is at distance 7 from VUB and at distance 1 from E. Via C, VUB is at 8.</li>
<li>D is at distance 20 from VUB and at distance3 from E. Via D VUB is at 23.</li>
<li>Node E concludes that the best route to VUB is via C and that the corresponding distance is 8.</li>
</ul>
<p><img src="/images/NET/18830.png" /></p>
<ul>
<li>E然后相应地更新其路由表的VUB条目。在算法的下一轮中，A和D将发现比以前知道的有一种更好的VUB方式，并将依次更新其VUB条目。</li>
</ul>
<p><img src="/images/NET/18831.png" /></p>
<ul>
<li>此处显示了节点A，B，C，D和E向VUB的最终路由。</li>
</ul>
<p>Bellman and Ford have proven that this algorithm converges toward a state where each router has in its routing table the shortest path to all other destinations in a time proportional to the product of the number of nodes and the number of links.</p>
<p>Bellman和Ford已证明，该算法收敛于一种状态，即每个路由器在其路由表中在与节点数量和链路数量的乘积成比例的时间内，具有到所有其他目的地的最短路径。</p>
<p>距离矢量distance vector算法用于早期Internet的路由信息协议Routing Information Protocol（RIP）中。</p>
<p>When new routes become available, routing tables will quickly be adapted to the new situation but when links break down, the routing tables will be updated very slowly and loops might temporarily exist.</p>
<p>当有新的路由可用时，路由表将迅速适应新情况，<u>但是当链路断开时，路由表将<strong>非常缓慢地更新</strong>，并且可能会暂时存在环路。</u></p>
<p>This problem, known as “<strong>count to infinity</strong>” is the main reason why this algorithm has been replaced by a better one in the Internet.</p>
<p>这个问题被称为“<strong>无穷计数</strong>”，是该算法在Internet上被更好的算法所取代的主要原因。</p>
<h5 id="degradation-降级">Degradation 降级</h5>
<p>Examples of degradation : a link is broken, the error rate on a link has increased so that useful throughput is severely diminished.</p>
<p>降级示例：链路中断，链路上的错误率增加，从而导致可用吞吐量严重减少。</p>
<p>The effects of such a degradation are represented in the Distance Vector Algorithm by increasing "distance" parameter of the link. For instance, a broken link will be characterized by an infinite distance.</p>
<p>这种退化的影响在距离向量算法中通过增加链路的“距离”参数来表示。 例如，断开的链接将以无限距离为特征。</p>
<h5 id="count-to-infinity-无穷计数">Count to infinity 无穷计数</h5>
<p>该方案表明<u><strong>链路降级link degradation</strong>在网络中传播非常缓慢</u>。</p>
<p><img src="/images/NET/18832.png" /></p>
<blockquote>
<p>Initially the link BA had a distance 1. After an incident damaging the link, the distance becomes 7.</p>
<p>最初链接 BA 的距离为 1。在发生损坏链接的事件后，距离变为 7。</p>
<p>The successive drawings of the network show how the distance vector algorithm will slowly update its DistanceToDestination A figures. For simplicity we suppose that the local updates take place in the shown network from left to right.</p>
<p>网络的连续图显示了距离向量算法将如何缓慢更新其 DistanceToDestination A 数字。 为简单起见，我们假设本地更新在所示网络中从左到右发生。</p>
<p>Immediately after the incident, when B asks its two neighbors about their distance to A, it will conclude the best way to A is via C because C, ignoring the incident, still believes that it is at a distance 2 from A. Soon thereafter C will ask its neighbors about their distance to A and will deduce from the answer by B (3) that the best way from C to A is via B. This creates a loop between B and C, insulating in fact nodes B to E from node A. This situation will be corrected when, through successive steps of the algorithm, B has concluded that for going to A the best route is over the degraded link B&gt;A .</p>
<p>事件发生后，当 B 立即询问其两个邻居到 A 的距离时，它会得出结论，到 A 的最佳途径是通过 C，因为 C 忽略了事件，仍然认为它与 A 的距离为 2。此后不久，C 将询问它的邻居他们到 A 的距离，并从 B (3) 的答案中推断出从 C 到 A 的最佳方式是通过 B。这在 B 和 C 之间创建了一个循环，实际上将节点 B 到 E 与节点隔离 A. 当通过算法的连续步骤，B 得出结论，去 A 的最佳路由是通过降级链路 B&gt;A 时，这种情况将得到纠正。</p>
</blockquote>
<p>In case of failure of a link the traffic through that link will be bounced back (and enter a loop without issue) until the <code>DistanceToDestination</code> variable of neighbouring nodes has grown, by two units per routing round, to a value sufficient to change the routes in that neighbourhood.</p>
<p>如果发生链路故障，则通过该链路的流量将被反弹（并进入循环而不会出现问题），直到相邻节点的<code>DistanceToDestination</code>变量在每个路由回合中增加了两个单位，直至足以改变路由那个街区。</p>
<p>这种非常烦人的现象被称为“无穷计数count to infinity”，<u>因为失败的链接failed link被认为具有无限的距离infinite distance。</u></p>
<h4 id="link-state-routing">Link state routing</h4>
<p><img src="/images/NET/18833.png" /></p>
<ul>
<li>Each node broadcasts its list of ongoing links</li>
</ul>
<p>With link state routing, each router maintains a list of its neighbors and the “cost” of reaching them. This list is <strong>periodically broadcaste</strong>d.</p>
<p>通过链路状态路由，每个路由器都维护其邻居列表以及达到邻居的“cost”。 该列表被<strong>定期广播</strong>。</p>
<p><img src="/images/NET/18834.png" /></p>
<p>Whenever the state of one of the links to neighbors changes, the local link list is updated and broadcasted again.</p>
<p>每当到邻居的链接之一的状态更改时，本地链接列表都会更新并再次广播。</p>
<p>Successive versions of that list are identified by an <strong>integer sequence number.</strong></p>
<p>该列表的<u>后续版本由<strong>整数序号</strong>标识。</u></p>
<p>The broadcasts allow each router to set up a database containing all available links with their respective “costs” and to upgrade the database when routers signal modifications in their neighborhood.</p>
<p>广播允许每个路由器建立一个包含所有可用链接及其各自“成本costs”的数据库，并在路由器发出信号通知其附近进行修改时升级该数据库。</p>
<p>This database allows each node to build a full map of the interconnected networks and to find the best route to any destination by applying Dijkstra’s algorithm to find the shortest path to a specific destination in a graph.</p>
<p>该数据库允许每个节点建立互连网络的完整地图，并通过应用Dijkstra的算法来找到图中特定目的地的最短路径，从而找到通往任何目的地的最佳路线。</p>
<h5 id="local-link---state-database">Local Link - State Database</h5>
<p><img src="/images/NET/18835.png" /></p>
<ul>
<li><p>Based on the broadcasts received from other nodes, each node builds its own database of links.</p>
<p>基于从其他节点收到的广播，每个节点建立自己的链接数据库。</p></li>
<li><p>With each link, the "<strong>freshness</strong>" of the information is kept in order to check, upon reception of a broadcast whether an update is required.</p>
<p>对于每个链接，信息的“<strong>新鲜度</strong>”都会保留，以便在接收到广播时检查是否需要更新。</p></li>
</ul>
<p>For building that database, following algorithm is used:</p>
<pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">while</span> <span class="token punctuation">(</span>true<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  Receive message<span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>record present in database<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>Message Number <span class="token operator">></span> Record Number<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> 
      Update database<span class="token punctuation">;</span>
      Broadcast message<span class="token punctuation">;</span> <span class="token comment">// to all but sender</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">else</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>Message Number <span class="token operator">&lt;</span> Record Number<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        Update message<span class="token punctuation">;</span> 
        Send message back<span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span> 
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
    Update database<span class="token punctuation">;</span>
    Broadcast message<span class="token punctuation">;</span> <span class="token comment">// to all but sender</span>
  <span class="token punctuation">&#125;</span> 
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="best-route-consequence">Best route consequence</h4>
<p><img src="/images/NET/18836.png" /></p>
<p>Using optimal routes can have deleterious effects: in the example shown, all left to right traffic will go through the bottom node because it is on the shortest route while no traffic will go through the two upper nodes, even if the bottom node gets congested.</p>
<p>使用最佳路由可能产生有害影响：在所示示例中，所有从左到右的流量都将通过底部节点，因为它位于最短路径上，即使底部节点拥塞，也没有流量会通过两个较高的节点。</p>
<h4 id="routing-in-large-networks">Routing in large networks</h4>
<p><img src="/images/NET/18837.png" /></p>
<ul>
<li>Complete routing tables impossible in large networks</li>
<li>Hierarchical routing is the solution
<ul>
<li>Routing table restrcited to one level of hierarchy</li>
</ul></li>
</ul>
<p>网络数量的增加导致引入了子网的概念：例如，VUBNET，即VUB校园网在Internet上以其16位网络号1000011010111000（写为134.184）而为人所知，剩下的16位用于标识其中的任何一个。</p>
<p>可以连接到VUBNET的65534个可能的主机。 但是，VUBNET本身是一组IP网络，将16位主机号分解为8位子网号和8位主机号，从而在VUBNET内部最多允许254个子网，每个子网上254个主机。 这些子网对于外部世界是不可见的，外部世界将VUBNET视为具有最多65534台主机的单个网络。</p>
<h2 id="virtual-private-networks-tunnels">Virtual Private Networks (= Tunnels)</h2>
<p>可以很好地想象一种互联网应用程序，它将IP数据包从一个地址传送到Internet中的另一个地址。 该应用程序甚至可以（<u>在OSI模型的第6级</u>）对这些数据包进行<strong>加密</strong>。</p>
<p>这样，Internet可以用于以安全的方式在不属于公共Internet的两个路由器之间承载数据包。 此技术称为“<strong>虚拟专用网Virtual Private Network”</strong>（VPN）。</p>
<p><img src="/images/NET/18850.png" /></p>
<p>在从IPv4到IPv6的演进过程中，VPN可用于通过Internet的IPv4部分承载IPv6数据包。 在这种情况下，VPN通常被称为“<strong>隧道Tunnel</strong>”。</p>
<p>作为使用此类隧道的一个示例，Microsoft无法通过IPv6网络使用Windows隧道将Windows更新带到您的计算机。</p>
<h2 id="net-neutrality-网络中立性">Net Neutrality 网络中立性</h2>
<ul>
<li>The Internet is a communications service , just like the telephone service (EU and USA ?)</li>
<li>The Internet Service Providers (ISP) should not discriminate between applications.</li>
<li>All IP packets should obey the same rules , regardless of their origin or destination</li>
<li>Overall user satisfaction is not only determined by the handling of IP packets , nor by the ISPs policies</li>
</ul>
<p>欧洲和美国都赋予互联网一种类似于电话服务的状态，这意味着不允许运营商歧视用户，而互联网服务提供商希望以一定的代价来支持主要的内容提供商， 例如Netflix。</p>
<p>ISP确实相信，如果他们无法区分服务，则互联网访问将成为一种不太有利可图的商品。 在许多为居民提供免费互联网访问的欧洲城镇中，这种演变已显而易见。</p>
<h3 id="edge-servers-边缘服务器">Edge servers 边缘服务器</h3>
<p><img src="/images/NET/18851.png" /></p>
<blockquote>
<p>大家都用公网进行数据访问，网络压力很大，于是，当地的服务运营商可以把最常见的访问数据存储在当地的服务器（Edge Server）。这就能大大提高访问的速度和效率。</p>
</blockquote>
<p>To reduce the Internet traffic, frequently requested data can be locally stored in cache memories, called “<strong>edge servers</strong>”.</p>
<p>为了减少Internet流量，可以将经常请求的数据本地存储在称为“<strong>边缘服务器edge servers</strong>”的缓存中。</p>
<blockquote>
<p>这些服务器可以由ISP或专门的公司（例如Amazon，称为“内容交付网络”（CDN））拥有。</p>
</blockquote>
<p>The choice of the contents stored in edge servers influences the performance observed by the users and is not regulated by the “<strong>Net Neutrality</strong>” rules.</p>
<p>边缘服务器中存储的内容的选择会影响用户观察到的性能，并且<u>不受“网络中立性”规则的约束。</u></p>
<h2 id="the-transport-layer">The Transport Layer</h2>
<h3 id="tcp">TCP</h3>
<p><img src="/images/NET/18852.png" /></p>
<p>每个TCP数据包都有自己的标头header，其中一些重要字段是：</p>
<ul>
<li><p>Source Port 源端口</p>
<ul>
<li><p>the port number of the sending application on its host</p>
<p>发送应用程序在其主机上的端口号</p></li>
</ul></li>
<li><p>Destination Port目标端口</p>
<ul>
<li><p>the port number of the receiving application on its host.</p>
<p>接收应用程序在其主机上的端口号。</p></li>
</ul></li>
<li><p>Sequence Number 序列号</p>
<ul>
<li><p>Number of the packet, used for the sliding window error correction and congestion control protocols.</p>
<p>数据包的编号，用于滑动窗口纠错和拥塞控制协议。</p></li>
</ul></li>
<li><p>Acknowledgement Number 确认编号</p>
<ul>
<li><p>The acknowledgements for the reverse data flow travel in this field of the normal packets of the forward flow.</p>
<p>反向数据流的确认在正向流的常规数据包的此字段中传播。</p></li>
</ul></li>
<li><p>Window Size 窗口大小</p>
<ul>
<li><p>The current size of the sliding window.</p>
<p>滑动窗口的当前大小。</p></li>
</ul></li>
</ul>
<h3 id="udp">UDP</h3>
<ul>
<li><p>Service offered to application layer:</p>
<ul>
<li>Application port identification</li>
<li>Connectionless (stateless)</li>
<li>Error detection , no correction</li>
</ul></li>
<li><p>Service required from network layer</p>
<ul>
<li><p>Connectionless network service</p>
<p>(As provided by the Internet Protocol)</p></li>
</ul></li>
</ul>
<p>If the application does not require reliable data transport, it is preferable to reduce the transport protocol to a minimum, in order to maximally reduce the delays caused by the transport layer.</p>
<p>如果应用程序<u>不需要可靠的数据传输</u>，则最好将传输协议减少到最小，以便最大程度地<strong>减少</strong>由传输层引起的<strong>延迟</strong>。</p>
<p>The User Datagram Protocol implements such a minimal transport protocol. In fact, it only handles the addressing of the applications level entities and discards packets containing transmission errors.</p>
<p>用户数据报协议实现了这样的最小传输协议。 实际上，它仅处理应用程序级别实体的寻址，并丢弃包含传输错误的数据包。</p>
<h4 id="message-format">Message format</h4>
<p><img src="/images/NET/18853.png" /></p>
<p>The header of UDP packets reflects the simplicity of the transport protocol.</p>
<p>UDP数据包的标头反映了传输协议的简单性。</p>
<h4 id="port-numbers">Port Numbers</h4>
<table>
<thead>
<tr class="header">
<th>0</th>
<th>Reserved</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>7</td>
<td>Echo</td>
</tr>
<tr class="even">
<td>11</td>
<td>User (Gives list of active users)</td>
</tr>
<tr class="odd">
<td>13</td>
<td>Daytime</td>
</tr>
<tr class="even">
<td>17</td>
<td>Quote (Gives the quote of the day)</td>
</tr>
<tr class="odd">
<td>53</td>
<td>Domain (Domain name server)</td>
</tr>
<tr class="even">
<td>67</td>
<td>BOOTPS (Bootstrap Protoccol Server)</td>
</tr>
<tr class="odd">
<td>68</td>
<td>BOOTPC (Bootstrap Protoccol Client)</td>
</tr>
<tr class="even">
<td>69</td>
<td>TFTP (Trivial File Transfer Protocol)</td>
</tr>
<tr class="odd">
<td>123</td>
<td>NTP (Network Time Protocol)</td>
</tr>
</tbody>
</table>
<p>UDP was mainly used for very simple Internet utilities such as those shown in this slide. Now it has become the transport protocol of choice for delay critical multi-media applications such as IP telephony.</p>

                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        Author:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">Chaoqun Yin</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        Link:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://yintelligence.tech/2021/07/15/2021-07-15-Interent/">https://yintelligence.tech/2021/07/15/2021-07-15-Interent/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        Reprint policy:
                    </i>
                </span>
                <span class="reprint-info">
                    All articles in this blog are used except for special statements
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    reprint polocy. If reproduced, please indicate source
                    <a href="/about" target="_blank">Chaoqun Yin</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>Copied successfully, please follow the reprint policy of this article</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">more</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/Advanced-IT-Networks/">
                                    <span class="chip bg-color">Advanced IT Networks</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
        </div>
    </div>

    

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;Previous</div>
            <div class="card">
                <a href="/2021/07/16/2021-07-16-Telecommunications%20Theory/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/6.jpg" class="responsive-img" alt="Telecommunications Theory">
                        
                        <span class="card-title">Telecommunications Theory</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2021-07-16
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/Network/" class="post-category">
                                    Network
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/Advanced-IT-Networks/">
                        <span class="chip bg-color">Advanced IT Networks</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                Next&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2021/07/14/2021-07-14-Communications%20Systems%20Modeling/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/0.jpg" class="responsive-img" alt="Communications Systems Modelling">
                        
                        <span class="card-title">Communications Systems Modelling</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            主要讲解layer的内容
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2021-07-14
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/Network/" class="post-category">
                                    Network
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/Advanced-IT-Networks/">
                        <span class="chip bg-color">Advanced IT Networks</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>


<script>
    $('#articleContent').on('copy', function (e) {
        // IE8 or earlier browser is 'undefined'
        if (typeof window.getSelection === 'undefined') return;

        var selection = window.getSelection();
        // if the selection is short let's not annoy our users.
        if (('' + selection).length < Number.parseInt('120')) {
            return;
        }

        // create a div outside of the visible area and fill it with the selected text.
        var bodyElement = document.getElementsByTagName('body')[0];
        var newdiv = document.createElement('div');
        newdiv.style.position = 'absolute';
        newdiv.style.left = '-99999px';
        bodyElement.appendChild(newdiv);
        newdiv.appendChild(selection.getRangeAt(0).cloneContents());

        // we need a <pre> tag workaround.
        // otherwise the text inside "pre" loses all the line breaks!
        if (selection.getRangeAt(0).commonAncestorContainer.nodeName === 'PRE') {
            newdiv.innerHTML = "<pre>" + newdiv.innerHTML + "</pre>";
        }

        var url = document.location.href;
        newdiv.innerHTML += '<br />'
            + 'From: Chaoqun Yin<br />'
            + 'Author: Chaoqun Yin<br />'
            + 'Link: <a href="' + url + '">' + url + '</a><br />'
            + '本文章著作权归作者所有，任何形式的转载都请注明出处。';

        selection.selectAllChildren(newdiv);
        window.setTimeout(function () {bodyElement.removeChild(newdiv);}, 200);
    });
</script>


<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;TOC</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h1, h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h1, h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    
    <div class="container row center-align" style="margin-bottom: 15px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2021</span>
            
            <span id="year">2021</span>
            <a href="/about" target="_blank">Chaoqun Yin</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            
            
            
            
            
            <span id="busuanzi_container_site_pv">
                |&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;<span id="busuanzi_value_site_pv"
                    class="white-color"></span>&nbsp;次
            </span>
            
            
            <span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;人
            </span>
            
            <br>
            
            <span id="sitetime">载入运行时间...</span>
            <script>
                function siteTime() {
                    var seconds = 1000;
                    var minutes = seconds * 60;
                    var hours = minutes * 60;
                    var days = hours * 24;
                    var years = days * 365;
                    var today = new Date();
                    var startYear = "2021";
                    var startMonth = "1";
                    var startDate = "28";
                    var startHour = "2";
                    var startMinute = "1";
                    var startSecond = "0";
                    var todayYear = today.getFullYear();
                    var todayMonth = today.getMonth() + 1;
                    var todayDate = today.getDate();
                    var todayHour = today.getHours();
                    var todayMinute = today.getMinutes();
                    var todaySecond = today.getSeconds();
                    var t1 = Date.UTC(startYear, startMonth, startDate, startHour, startMinute, startSecond);
                    var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
                    var diff = t2 - t1;
                    var diffYears = Math.floor(diff / years);
                    var diffDays = Math.floor((diff / days) - diffYears * 365);
                    var diffHours = Math.floor((diff - (diffYears * 365 + diffDays) * days) / hours);
                    var diffMinutes = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours) /
                        minutes);
                    var diffSeconds = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours -
                        diffMinutes * minutes) / seconds);
                    if (startYear == todayYear) {
                        document.getElementById("year").innerHTML = todayYear;
                        document.getElementById("sitetime").innerHTML = "本站已安全运行 " + diffDays + " 天 " + diffHours +
                            " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
                    } else {
                        document.getElementById("year").innerHTML = startYear + " - " + todayYear;
                        document.getElementById("sitetime").innerHTML = "本站已安全运行 " + diffYears + " 年 " + diffDays +
                            " 天 " + diffHours + " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
                    }
                }
                setInterval(siteTime, 1000);
            </script>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/yintelligence" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:Yintelligence@outlook.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>













</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;Search</span>
            <input type="search" id="searchInput" name="s" placeholder="Please enter a search keyword"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

	
    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
