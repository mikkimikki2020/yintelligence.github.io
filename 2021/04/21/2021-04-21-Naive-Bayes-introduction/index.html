<!DOCTYPE HTML>
<html lang="en">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="Naive Bayes introduction, Chaoqun Yin">
    <meta name="description" content="Veni, Vidi, Vici">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>Naive Bayes introduction | Chaoqun Yin</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery.min.js"></script>

<meta name="generator" content="Hexo 5.3.0"></head>




<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">Chaoqun Yin</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>Index</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>Tags</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>Categories</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>Archives</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>About</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>Contact</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>Friends</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="Search" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">Chaoqun Yin</div>
        <div class="logo-desc">
            
            Veni, Vidi, Vici
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			Index
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			Tags
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			Categories
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			Archives
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			About
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			Contact
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			Friends
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/blinkfox/hexo-theme-matery" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/blinkfox/hexo-theme-matery" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/11.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">Naive Bayes introduction</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        padding: 35px 0 15px 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        padding-bottom: 30px;
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/Techniques-of-Artificial-Intelligence/">
                                <span class="chip bg-color">Techniques of Artificial Intelligence</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/Artificial-Intelligence/" class="post-category">
                                Artificial Intelligence
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>Publish Date:&nbsp;&nbsp;
                    2021-04-21
                </div>
                

                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-check fa-fw"></i>Update Date:&nbsp;&nbsp;
                    2021-08-18
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>Word Count:&nbsp;&nbsp;
                    3.3k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-clock fa-fw"></i>Read Times:&nbsp;&nbsp;
                    16 Min
                </div>
                

                
                    <div id="busuanzi_container_page_pv" class="info-break-policy">
                        <i class="far fa-eye fa-fw"></i>Read Count:&nbsp;&nbsp;
                        <span id="busuanzi_value_page_pv"></span>
                    </div>
				
            </div>
        </div>
        <hr class="clearfix">

        
        <!-- 是否加载使用自带的 prismjs. -->
        <link rel="stylesheet" href="/libs/prism/prism.css">
        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <h1 id="naïve-bayes-introduction">Naïve Bayes introduction</h1>
<p><a href="https://yintelligence.tech/2021/01/29/2021-01-29-VUB-4004728DNR-Techniques-of-Artificial-Intelligence/">VUB 4004728DNR Techniques of Artificial Intelligence</a></p>
<p><a href="https://yintelligence.tech/2021/04/01/2021-04-01-Stochastic-methods-in-AI/#toc-heading-26">Stochastic methods in AI</a></p>
<p>Slide <a target="_blank" rel="noopener" href="https://canvas.vub.be/courses/20566/files/507045?module_item_id=79414">1</a>, <a target="_blank" rel="noopener" href="https://canvas.vub.be/courses/20566/files/507045?module_item_id=79414">2</a> +Exercise</p>
<h2 id="bayesian-classification">Bayesian Classification</h2>
<p>We can use Bayes’ Rule to build a so-called <strong>Naïve Classifier</strong></p>
<p>我们可以使用贝叶斯规则来构建一个所谓的<strong>朴素分类器</strong></p>
<ul>
<li><p>“Naïve” because it assumes that all its inputs are <strong>independent</strong></p>
<p>“朴素”，因为它假设所有输入都是<strong>独立</strong>的</p></li>
<li><p>Nevertheless it works pretty well</p>
<p>尽管如此，它运作良好</p></li>
</ul>
<p>Recall the example from our <a href="https://yintelligence.tech/2021/03/06/2021-03-06-Algorithm-for-learning-classification/">ID3 lecture</a>:</p>
<ul>
<li>The morning problem
<ul>
<li>Should I attend class?</li>
</ul></li>
</ul>
<blockquote>
<p>Note, now, that we are not building a classifier that is based only on <strong>feature values</strong></p>
<p>请注意，现在我们不是在构建仅基于<strong>特征值</strong>的分类器</p>
<p>Instead, we include <strong>likelihoods</strong></p>
<p>相反，我们包括可能性</p>
</blockquote>
<p><img src="/images/AI/2127296.png" /></p>
<table>
<thead>
<tr class="header">
<th style="text-align: center;">Outlook</th>
<th style="text-align: center;">Temperature</th>
<th style="text-align: center;">Windy</th>
<th style="text-align: center;">Attend?</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">sunny</td>
<td style="text-align: center;">29</td>
<td style="text-align: center;">No</td>
<td style="text-align: center;">Yes</td>
</tr>
<tr class="even">
<td style="text-align: center;">sunny</td>
<td style="text-align: center;">27</td>
<td style="text-align: center;">Yes</td>
<td style="text-align: center;">No</td>
</tr>
<tr class="odd">
<td style="text-align: center;">overcast</td>
<td style="text-align: center;">28</td>
<td style="text-align: center;">No</td>
<td style="text-align: center;">Yes</td>
</tr>
<tr class="even">
<td style="text-align: center;">rain</td>
<td style="text-align: center;">21</td>
<td style="text-align: center;">Yes</td>
<td style="text-align: center;">No</td>
</tr>
<tr class="odd">
<td style="text-align: center;">rain</td>
<td style="text-align: center;">20</td>
<td style="text-align: center;">No</td>
<td style="text-align: center;">Yes</td>
</tr>
<tr class="even">
<td style="text-align: center;">rain</td>
<td style="text-align: center;">18</td>
<td style="text-align: center;">Yes</td>
<td style="text-align: center;">No</td>
</tr>
<tr class="odd">
<td style="text-align: center;">overcast</td>
<td style="text-align: center;">17</td>
<td style="text-align: center;">Yes</td>
<td style="text-align: center;">Yes</td>
</tr>
<tr class="even">
<td style="text-align: center;">sunny</td>
<td style="text-align: center;">22</td>
<td style="text-align: center;">No</td>
<td style="text-align: center;">No</td>
</tr>
</tbody>
</table>
<p>Given this data, we can calculate a rule that tells us what the likelihood of attending is, given a particular state of affairs</p>
<p>给定这些数据，我们可以计算出一个规则，告诉我们在给定特定事态的情况下参加的可能性是多少</p>
<ul>
<li>We begin with three input variables:
<ul>
<li>Outlook, Temperature, Windy</li>
</ul></li>
</ul>
<p>We want to compute the class variable <code>Attend</code>?</p>
<ul>
<li>First, we calculate the <strong>distributions of the variables</strong>:
<ul>
<li>Outlook: P（Sunny）= 3/8; P（Overcast）= 2/8; P（Rain）= 3/8</li>
<li>Temperature: P( &lt;20）= 2/8; P（&gt;=20 ∧ &lt;25） = 3/8; P（&gt;=25） = 3/8</li>
<li>Windy: P（Windy）= 4/8; P（¬Windy）= 4/8</li>
<li>Class variable: P（Attend）= 4/8; P（¬Attend）= 4/8</li>
</ul></li>
<li>We calculate the <strong>conditional probabilities</strong> given each class value:
<ul>
<li>Outlook
<ul>
<li>P（Sunny | Attend）= 1/4;</li>
<li>P（Sunny | ¬ Attend）= 2/4;</li>
<li>P（Overcast | Attend）= 2/4;</li>
<li>P（ Overcast | ¬Attend）= 0/4;</li>
<li>P（Rain | Attend）= 1/4;</li>
<li>P（Rain | ¬Attend）= 2/4</li>
</ul></li>
<li>Temperature
<ul>
<li>P（&lt;20 | Attend ) = 0/4;</li>
<li>P（&lt;20 | ¬Attend ) = 2/4;</li>
<li>P（&gt;=20 ∧ &lt;25 | Attend ) = 3/4;</li>
<li>P（&gt;=20 ∧ &lt;25 | ¬Attend ) = 1/4;</li>
<li>P（&gt;=25 | Attend ) = 1/4;</li>
<li>P（&gt;=25 | ¬Attend ) = 1/4</li>
</ul></li>
<li>Windy
<ul>
<li>P（Windy | Attend）= 1/4;</li>
<li>P（Windy | ¬Attend）= 3/4;</li>
<li>P（¬Windy | Attend）= 3/4;</li>
<li>P（¬Windy | ¬Attend）= 1/4</li>
</ul></li>
</ul></li>
<li>Now we are ready to make predictions</li>
</ul>
<p><strong>Remember that</strong> <span class="math display">\[
P( A ∧ B | C ) = P( A | C ) × P( B | C )
\]</span></p>
<h3 id="making-predictions">Making Predictions</h3>
<ul>
<li>Case from the data: Rain ∧ &lt;20 ∧ Windy
<ul>
<li>P（Attend | Rain ∧ &lt;20 ∧ Windy）= P（Rain ∧ &lt;20 ∧ Windy | Attend）× P（Attend） ÷ P（Rain ∧ &lt;20 ∧ Windy）= P（Rain | Attend）× P（&lt;20 | Attend）× P（Windy | Attend）× P（Attend ）÷ P（Rain ∧ &lt;20 ∧ Windy）</li>
<li>Similarly P（¬Attend | Rain ∧ &lt;20 ∧ Windy）</li>
<li>P（Rain ∧ &lt;20 ∧ Windy）= P（Rain）× P（&lt;20）× P（Windy）= 3/8 × 2/8 × 4/8 = 3/64</li>
</ul></li>
<li>Case from the data: Rain ∧ &lt;20 ∧ Windy
<ul>
<li>P（Attend | Rain ∧ &lt;20 ∧ Windy） =</li>
<li>Calculate P（Attend）= P（Rain | Attend）× P（&lt;20 | Attend）× P（Windy | Attend）× P（Attend）÷ P（Rain ∧ &lt;20 ∧ Windy）= （1/4 × 0/4 x 1/4 x 1/2）÷ 3/64 = 0</li>
<li>Calculate P（¬Attend）= P（Rain | ¬Attend）× P（&lt;20 | ¬Attend）× P（Windy | ¬Attend）× P（¬Attend）÷ P（Rain ∧ &lt;20 ∧ Windy）=（2/4 × 2/4 × 3/4 × 1/2） ÷ 3/64 = 64/64 = 1</li>
</ul></li>
<li>The larger probability tells us which is the correct class: <strong>¬Attend</strong></li>
</ul>
<p><img src="/images/AI/2121298.png" /></p>
<h2 id="probabilistic-vs.-subjective-view-of-probability">Probabilistic vs. Subjective View of Probability</h2>
<p>There is nothing about Bayes’ Rule that tells you how to interpret the probabilities</p>
<p>贝叶斯法则<u>没有告诉你如何解释概率</u></p>
<ul>
<li><p>Nevertheless, Bayes’ Rule is often used with <strong>semi-subjective probabilities</strong></p>
<p>然而，贝叶斯规则经常与半主观概率一起使用</p></li>
</ul>
<h3 id="subjective-probabilities-主观概率-degree-of-belief">Subjective Probabilities 主观概率 （<strong>degree of belief</strong>）</h3>
<ul>
<li><p>Statistical estimates （frequentist interpretation） for probabilities are fine if the experiment under consideration can be repeated a number of times under similar circumstances.</p>
<p>如果所考虑的实验可以在类似情况下<strong>重复多次</strong>，则概率的统计估计（频率论解释）是可以的。</p>
<p>But suppose you want to assign the probability that one political party will beat another. You can determine your own personal probability by seeing what kind of bet you’d be willing to make.</p>
<p>但是假设您要分配一个政党击败另一个政党的概率。 您可以通过查看您愿意下的赌注来确定您自己的个人概率。</p></li>
<li><p>A doctor might assign a probability of 0.8 to the statement that a particular patient has a meningitis, given that she （the patient!） has a stiff neck.</p>
<p>考虑到她（患者！）颈部僵硬，医生可能会为特定患者患有脑膜炎的陈述分配 0.8 的概率。</p>
<p>We may not have statistical data on that one patient for meningitis and stiff necks; however, we might be basing our subjective assignment of probability on our experiences with patients with a similar medical history.</p>
<p>我们可能没有关于那一名脑膜炎和颈部僵硬患者的统计数据； 然而，我们可能会根据我们对具有相似病史的患者的经验对概率进行主观分配。</p></li>
</ul>
<h2 id="reasoning-with-probabilities-概率推理">Reasoning with Probabilities 概率推理</h2>
<ul>
<li><p>Scenario 设想</p>
<ul>
<li><p>Jane goes to the doctor’s for a routine check-up and takes some tests</p>
<p>Jane去医生那里做例行检查并做了一些检查</p></li>
<li><p>One test for a rare genetic disease comes back positive</p>
<p>一项罕见遗传病检测呈阳性</p></li>
<li><p>The disease is potentially fatal</p>
<p>这种疾病可能是致命的</p></li>
</ul></li>
<li><p>Jane looks it up on Wikipedia and learns that</p>
<p>Jane在维基百科上查找并了解到</p>
<ul>
<li>“<strong>rare</strong>” means P（Disease） = P（D） = 1/10,000 = 0.0001</li>
<li>the test is 99% accurate:
<ul>
<li>a very small occurrence of false positives P（Test = + | ¬ D）= 0.01</li>
<li>no false negatives P（Test = – | D）= 0</li>
</ul></li>
</ul></li>
<li><p>Jane would like to compute the probability that she has the disease and take appropriate action</p>
<p>Jane 想计算她患病的概率并采取适当的措施</p></li>
</ul>
<h3 id="formulating-the-situation-制定情况">Formulating the situation 制定情况</h3>
<p>The scenario in probabilities 概率场景</p>
<ul>
<li><p>The disease is rare: P（D） = 0.0001</p></li>
<li><p>Reliability of test: P（Test = - | ¬ D） = 0.99</p>
<blockquote>
<p>P（D | Test = +）</p>
<p>= P（D ∧ Test = +）/ P（Test = +）</p>
<p>= 1 / （1 + 99.99）</p>
<p>= 0.0099（not 0.99!!!）</p>
</blockquote></li>
<li><p>Chance of false positive: P（Test = + | ¬ D） = 0.01</p></li>
<li><p>No chance of false negative: P（Test = – | D） = 0</p>
<p>∴ Chance of true positive: P（Test = + | D） = 1</p></li>
</ul>
<p><img src="/images/AI/21212990.png" /></p>
<h3 id="formalising-the-reasoning">Formalising the reasoning</h3>
<p><span class="math display">\[
P(B|A) =\frac{P(A|B)P(B)}{P(A}
\]</span></p>
<p><strong>Derivation</strong></p>
<ul>
<li><p>Bayes’ rule</p>
<ul>
<li><p>P（D | Test = +）= P（Test = + | D）P（D）/ P（Test= +）= 1 × 0.0001 / P（Test = +）= 0.0001 / P（Test = +）</p></li>
<li><p>P（¬ D | Test = +）= P（Test = + | ¬ D）P（¬ D) / P（Test = +）= 0.01 × 0.9999 / P（Test = +）= 0.009999 / P（Test = +）</p></li>
</ul></li>
<li><p>Excluded middle and arithmetic</p>
<ul>
<li><p>P（D | Test = +）+ P（¬D | Test = +）= 0.0001 / P（Test = +）+ 0.009999 / P（Test = +）=（0.0001 + 0.009999）/ P（Test = +）= 1</p>
<p>∴ 0.0001 + 0.009999 = 1 × P（Test = +）= 0.010099</p></li>
</ul></li>
<li><p>Bayes’ Rule</p>
<ul>
<li>P（D | Test = +）= 1 × 0.0001 / 0.010099 = 0.0099</li>
</ul></li>
</ul>
<h3 id="another-similar-example">Another similar example</h3>
<ul>
<li><p>Let S be the proposition that a patient has a stiff neck, and M the proposition that the patient has meningitis</p>
<p>设 S 为患者颈部僵硬的命题，M 为患者患有脑膜炎的命题</p></li>
<li><p>Suppose a doctor wants to know P（M | S）</p>
<ul>
<li>Probabilities from a medical database
<ul>
<li>P（S | M）= 0.5</li>
<li>P（M）= 1 / 50000 = 0.00002</li>
<li>P（S）= 1 / 20 = 0.05</li>
</ul></li>
<li>Using Bayes’ Rule
<ul>
<li>P（M | S）= P（S | M）P（M）/ P（S）= 0.5 × 0.00002 / 0.05 = 0.0002</li>
</ul></li>
</ul></li>
<li><p>If the doctor knows this probability, and sees a patient with a stiff neck, he/she can know how strongly/weakly to lean toward a diagnosis of meningitis</p>
<p>如果医生知道这个概率，并且看到一个颈部僵硬的患者，他/她就可以知道倾向于诊断脑膜炎的强度/弱度</p></li>
</ul>
<h2 id="how-practical-is-bayes-rule">How practical is Bayes’ rule?</h2>
<p>How reasonable is the supposition that you know P（S | M） but need to calculate P（M | S）?</p>
<p><strong>Why not estimate P（M | S） directly by sampling?</strong></p>
<p><img src="/images/AI/21212991.png" /></p>
<ul>
<li><p><code>P(M|S)</code></p>
<ul>
<li><p>This is affected by both the presence/absence of an epidemic and the way meningitis works – complicated.</p>
<p>这受到流行病的存在/不存在和脑膜炎的作用方式的影响——复杂。</p></li>
</ul></li>
<li><p><code>P(S|M)</code></p>
<ul>
<li><p>Reflects the way meningitis works.</p>
<p>反映脑膜炎的工作方式。</p></li>
<li><p>Unaffected by epidemic.</p>
<p>不受流行病影响。</p></li>
</ul></li>
<li><p><code>P(M)</code></p>
<ul>
<li><p>Increases when there is an epidemic.</p>
<p>发生流行病时会增加。</p></li>
<li><p>Unrelated information to <code>P(M)</code></p></li>
</ul></li>
</ul>
<p>在通过抽样估计<code>P(M|S)</code>时，您无法将这两个不相关的因素分开</p>
<p><strong>Normalisation</strong> is one way to make Bayes’ rule more practically applicable, but there’s another</p>
<p><strong>规范化</strong>是使贝叶斯规则更实用的一种方法，但还有另一种方法</p>
<ul>
<li><p>The issue is that Bayes’ rule requires us to estimate too many probabilities before we can apply it</p>
<p>问题是贝叶斯规则要求我们在应用它之前估计太多的概率</p></li>
<li><p>We want to estimate one conditional probability; we need to know</p>
<p>我们想估计一个条件概率；我们需要知道</p>
<ul>
<li><p>another conditional probability</p>
<p>另一个条件概率</p></li>
<li><p>two prior probabilities</p>
<p>两个先验概率</p></li>
</ul></li>
<li><p>Why are we willing to make this effort?</p>
<p>为什么我们愿意做出这样的努力?</p>
<ul>
<li><p>Because the other probabilities are typically easier to obtain by observation</p>
<p>因为其他概率通常更容易通过观察获得</p></li>
</ul></li>
</ul>
<p>Can we reduce the number of probabilities needed to apply Bayes’ Rule</p>
<p>我们可以减少应用贝叶斯规则所需的概率数量吗？</p>
<ul>
<li><p>There is a particular technique for doing this when there are multiple sources of evidence and we can use the idea of conditional independence</p>
<p>当有多个证据来源并且我们可以使用条件独立的想法时，有一种特殊的技术可以做到这一点</p></li>
</ul>
<h3 id="normalization">Normalization</h3>
<p>We can avoid direct assessment of priors of evidence, such as P（S） here, by considering an exhaustive set of hypotheses</p>
<p>通过考虑一组详尽的假设，我们可以<strong>避免直接评估证据的先验</strong>，例如这里的 P（S） <span class="math display">\[
P( M | S ) = \frac{P( S | M ) P( M )}{ P( S )}\  by\ Bayes’\ rule
\]</span></p>
<p><span class="math display">\[
P(¬M | S ) = \frac{P( S |¬M ) P(¬M )}{ P( S )}\  by\ Bayes’\ rule
\]</span></p>
<p><span class="math display">\[
P( M | S ) + P( ¬M | S ) = 1\ by\ excluded\ middle
\]</span></p>
<p><span class="math display">\[
P( S | M ) P( M ) + P( S | ¬M ) P( ¬M ) = P( S )\\ substitute\ RHSs\ and\ multiply\ by\ P( S )
\]</span></p>
<p><span class="math display">\[
P( M | S ) = \frac{P( S | M ) P( M )} {P( S | M ) P( M ) + P( S | ¬M ) P( ¬M )}\\ substitute\ for\ P( S )\ in\ original\ rule
\]</span></p>
<p><strong>By assessing P（S | ¬M）, we avoid assessing P（S）</strong></p>
<ul>
<li><p>We can generalise <strong>normalisation</strong> beyond the P ∨ ¬P case</p>
<p>我们可以将<strong>归一化</strong>推广到 P ∨ ¬P 情况之外</p>
<ul>
<li><p>use a distribution over multiple, mutually exclusive values of a variable</p>
<p>在变量的多个互斥值上使用分布</p></li>
</ul></li>
<li><p>Suppose we wish to compute a posterior distribution over A given B = b, and suppose A has disjoint domain a<sub>1</sub>, ..., a<sub>m</sub></p>
<p>假设我们希望在给定 B = b 的情况下计算 A 上的后验分布，并且假设 A 具有不相交的域a<sub>1</sub>, ..., a<sub>m</sub></p></li>
<li><p>Apply Bayes’ rule for each value of A</p>
<ul>
<li>P（A = a<sub>1</sub> | B = b）= P（B = b | A = a<sub>1</sub>）P（A = a<sub>1</sub>）/ P（B = b）... P（A = a<sub>m</sub> | B = b）= P（B = b | A = a<sub>m</sub>）P（A = a<sub>m</sub>）/ P（B = b）</li>
</ul></li>
<li><p>Adding these up, and noting that ∑<sub>i</sub>P（A = a<sub>i </sub>| B = b）= 1</p>
<ul>
<li><p>1 / P（B = b） = 1 / ∑<sub>i</sub> P（B = b | A = a<sub>i</sub>）P（A = a<sub>i</sub>）= α</p></li>
<li><p>This quantity is known as the <strong>normalisation factor</strong>, denoted by α</p>
<p>这个量被称为<strong>归一化因子</strong>，用α表示</p></li>
</ul></li>
</ul>
<h2 id="independence-revisited">Independence revisited</h2>
<ul>
<li><p>Unconditional independence 无条件独立</p>
<ul>
<li>P（A | B）= P（A）</li>
<li>P（B | A）= P（B）</li>
<li>P（A ∧ B）= P（A）P（B）</li>
</ul></li>
<li><p>Conditional independence 条件独</p>
<ul>
<li><p>independence holds, given a common cause</p>
<p>考虑到一个共同的原因，独立性成立</p></li>
<li><p>A and B are independent given C iff</p>
<ul>
<li>P（A | B ∧ C）= P（A | C）</li>
</ul></li>
<li><p>it follows that</p>
<ul>
<li><strong>P（A ∧ B | C）= P（A | C）P（B | C）</strong></li>
</ul></li>
</ul></li>
</ul>
<h2 id="bayesian-modelling-贝叶斯建模">Bayesian modelling 贝叶斯建模</h2>
<p>The <strong>one-rule classifier</strong> uses a single attribute to make its prediction…but can we expand this?</p>
<p><strong>单规则分类器</strong>使用单个属性进行预测……但是我们可以扩展它吗？</p>
<p>We could consider the <strong>contribution</strong> of all attributes</p>
<p>我们可以考虑所有属性的<strong>贡献</strong></p>
<ul>
<li><strong>Assumption #1</strong>. attributes are equally important 属性同样重要</li>
<li><strong>Assumption #2</strong>. attributes are independent each other 属性相互独立</li>
</ul>
<p><strong>Remark</strong>. Independence assumption is almost never correct! And they do not have the same importance</p>
<p>独立假设几乎永远不会正确！ 他们<u>没有同样的重要性</u>。</p>
<h2 id="bayesian-reasoning-贝叶斯推理">Bayesian reasoning 贝叶斯推理</h2>
<p>Probability of event H given the evidence E？</p>
<p><img src="/images/AI/08-01214149.png" /> <span class="math display">\[
P(H|E)=\frac{P(H)*P(E|H)}{P(E)}
\]</span></p>
<ul>
<li><p><code>P(H|E)</code></p>
<ul>
<li><p>Posterior Probability of "H" given the evidence</p>
<p>给定证据的“H”的后验概率</p></li>
</ul></li>
<li><p><code>P(E|H)</code></p>
<ul>
<li><p>Likelihood of evidence "E" if the Hypothesis "H" is true</p>
<p>如果假设“H”为真，则证据“E”的可能性</p></li>
</ul></li>
<li><p><code>P(H)</code></p>
<ul>
<li>Prior Probability 先验概率</li>
</ul></li>
<li><p><code>P(E)</code></p>
<ul>
<li><p>Prior Probability that the evidence itself is true</p>
<p>证据本身为真的先验概率</p></li>
</ul></li>
</ul>
<h2 id="naïve-bayes-for-classification">Naïve Bayes for classification</h2>
<p><strong>Learning scheme</strong>: what’s the probability of some decision class given a new instance?</p>
<p><strong>学习方案</strong>：给定一个新实例，某个决策类的概率是多少？</p>
<ul>
<li>Instance = evidence 𝐸, and Decision = event H</li>
</ul>
<p><span class="math display">\[
Pr[H|E]\frac{Pr[E_1|H]Pr[E_2|H]...Pr[E_n|H]Pr[H]}{Pr[E]}
\]</span></p>
<p><strong>Naïve assumption</strong>: evidence splits into attributes that are <strong><em>independent</em></strong> 证据分为<strong>独立</strong>的属性。</p>
<h3 id="example---weather-dataset">Example - Weather dataset</h3>
<p><img src="/images/AI/08-01214141.png" /></p>
<p><img src="/images/AI/08-01214142.png" /></p>
<ul>
<li><p>Likelihood of the two classes 两个类的可能性</p>
<ul>
<li>For “yes” = 2/9 × 3/9 × 3/9 × 3/9 × 9/14 = 0.0053</li>
<li>For “no” = 3/5 × 1/5 × 4/5 × 3/5 × 5/14 = 0.0206</li>
</ul></li>
<li><p>Conversion into a probability by normalization</p>
<p>通过归一化转换为概率</p>
<ul>
<li>P（“yes”）= 0.0053 / （0.0053 + 0.0206） = 0.205</li>
<li>P（“no”） = 0.0206 / （0.0053 + 0.0206） = 0.795</li>
</ul></li>
</ul>
<p><strong>The class “no” is four times more likely than “yes” for this instance.</strong></p>
<p><strong>对于此实例，“否”类的可能性是“是”类的四倍。</strong></p>
<h2 id="the-zero-frequency-problem-零频问题">The “zero-frequency problem” 零频问题</h2>
<p>What if a specific attribute value does not occur with every class value? Probabilities will be zero!!</p>
<p>如果每个类值都没有出现特定的属性值怎么办？ 概率为零！！</p>
<ul>
<li><p><strong>Solution</strong>. Add one to the counter for every attribute value-class combination （Laplace estimator）.</p>
<p>为每个属性值类组合（Laplace estimator）在计数器上加一个。</p></li>
</ul>
<p>In some problem domains, adding a constant different from one might be more appropriate!</p>
<p>在某些问题域中，添加一个与一个不同的常量可能更合适！</p>
<ul>
<li><strong>Result</strong>: probabilities will never be zero 概率永远不会为零</li>
</ul>
<h2 id="how-to-deal-with-missing-values">How to deal with missing values?</h2>
<ul>
<li><p>A nice feature of the <strong>Bayesian formulation</strong> is that missing values are not a problem at all.</p>
<p>贝叶斯公式的一个很好的特点是<strong>缺失值根本不是问题</strong>。</p></li>
<li><p><strong>Training</strong>: the instance is not included into the frequency counter, the probability ratios are based on the observed values rather than the observed instances.</p>
<p>实例不包括在频率计数器中，概率比<strong>基于观察值</strong>而不是观察实例。</p></li>
<li><p><strong>Classification</strong>: the attribute containing the missing value will be omitted from calculation.</p>
<p>计算中将省略包含缺失值的属性。</p></li>
</ul>
<h2 id="summary">Summary</h2>
<ul>
<li><p>Probability theory enables the use of varying degrees of likelihood to represent uncertainty</p>
<p>概率论允许使用不同程度的可能性来表示<strong>不确定性</strong></p></li>
<li><p>A （joint） probability distribution completely describes a （set of）random variable（s）</p>
<p>一个（联合）概率分布完全描述了一个（集合）随机变量</p></li>
<li><p>Conditional probabilities let us calculate probabilities relative to priors that we know</p>
<p>条件概率让我们计算相对于我们知道的<strong>先验的概率</strong></p></li>
<li><p>Bayes’ rule is helpful in relating conditional probabilities and priors</p>
<p>贝叶斯规则有助于<strong>关联条件概率和先验</strong></p></li>
<li><p>Independence assumptions let us make intractable problems tractable</p>
<p>独立性假设让我们把棘手的问题变得容易处理</p></li>
<li><p><strong>Bayesian Belief Networks</strong> （BBNs） are now the standard technology for expert systems</p>
<p><strong>贝叶斯信念网络</strong>（BBNs）现在是专家系统的标准技术</p></li>
</ul>

                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        Author:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">Chaoqun Yin</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        Link:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://yintelligence.tech/2021/04/21/2021-04-21-Naive-Bayes-introduction/">https://yintelligence.tech/2021/04/21/2021-04-21-Naive-Bayes-introduction/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        Reprint policy:
                    </i>
                </span>
                <span class="reprint-info">
                    All articles in this blog are used except for special statements
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    reprint polocy. If reproduced, please indicate source
                    <a href="/about" target="_blank">Chaoqun Yin</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>Copied successfully, please follow the reprint policy of this article</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">more</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/Techniques-of-Artificial-Intelligence/">
                                    <span class="chip bg-color">Techniques of Artificial Intelligence</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
        </div>
    </div>

    

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;Previous</div>
            <div class="card">
                <a href="/2021/04/22/2021-04-22-Decision-Trees/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/7.jpg" class="responsive-img" alt="Decision Trees">
                        
                        <span class="card-title">Decision Trees</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            Exercise 4
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2021-04-22
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/Artificial-Intelligence/" class="post-category">
                                    Artificial Intelligence
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/Techniques-of-Artificial-Intelligence/">
                        <span class="chip bg-color">Techniques of Artificial Intelligence</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                Next&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2021/04/20/2021-04-20-Registration-and-Visualisation/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/21.jpg" class="responsive-img" alt="Registration and Visualisation">
                        
                        <span class="card-title">Registration and Visualisation</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            Aiding visual inspection and interpretation
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2021-04-20
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/Digital-Health/" class="post-category">
                                    Digital Health
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/Biomedical-Signals-and-Images/">
                        <span class="chip bg-color">Biomedical Signals and Images</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>


<script>
    $('#articleContent').on('copy', function (e) {
        // IE8 or earlier browser is 'undefined'
        if (typeof window.getSelection === 'undefined') return;

        var selection = window.getSelection();
        // if the selection is short let's not annoy our users.
        if (('' + selection).length < Number.parseInt('120')) {
            return;
        }

        // create a div outside of the visible area and fill it with the selected text.
        var bodyElement = document.getElementsByTagName('body')[0];
        var newdiv = document.createElement('div');
        newdiv.style.position = 'absolute';
        newdiv.style.left = '-99999px';
        bodyElement.appendChild(newdiv);
        newdiv.appendChild(selection.getRangeAt(0).cloneContents());

        // we need a <pre> tag workaround.
        // otherwise the text inside "pre" loses all the line breaks!
        if (selection.getRangeAt(0).commonAncestorContainer.nodeName === 'PRE') {
            newdiv.innerHTML = "<pre>" + newdiv.innerHTML + "</pre>";
        }

        var url = document.location.href;
        newdiv.innerHTML += '<br />'
            + 'From: Chaoqun Yin<br />'
            + 'Author: Chaoqun Yin<br />'
            + 'Link: <a href="' + url + '">' + url + '</a><br />'
            + '本文章著作权归作者所有，任何形式的转载都请注明出处。';

        selection.selectAllChildren(newdiv);
        window.setTimeout(function () {bodyElement.removeChild(newdiv);}, 200);
    });
</script>


<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;TOC</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h1, h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h1, h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    
    <div class="container row center-align" style="margin-bottom: 15px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2021</span>
            
            <span id="year">2021</span>
            <a href="/about" target="_blank">Chaoqun Yin</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            
            
            
            
            
            <span id="busuanzi_container_site_pv">
                |&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;<span id="busuanzi_value_site_pv"
                    class="white-color"></span>&nbsp;次
            </span>
            
            
            <span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;人
            </span>
            
            <br>
            
            <span id="sitetime">载入运行时间...</span>
            <script>
                function siteTime() {
                    var seconds = 1000;
                    var minutes = seconds * 60;
                    var hours = minutes * 60;
                    var days = hours * 24;
                    var years = days * 365;
                    var today = new Date();
                    var startYear = "2021";
                    var startMonth = "1";
                    var startDate = "28";
                    var startHour = "2";
                    var startMinute = "1";
                    var startSecond = "0";
                    var todayYear = today.getFullYear();
                    var todayMonth = today.getMonth() + 1;
                    var todayDate = today.getDate();
                    var todayHour = today.getHours();
                    var todayMinute = today.getMinutes();
                    var todaySecond = today.getSeconds();
                    var t1 = Date.UTC(startYear, startMonth, startDate, startHour, startMinute, startSecond);
                    var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
                    var diff = t2 - t1;
                    var diffYears = Math.floor(diff / years);
                    var diffDays = Math.floor((diff / days) - diffYears * 365);
                    var diffHours = Math.floor((diff - (diffYears * 365 + diffDays) * days) / hours);
                    var diffMinutes = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours) /
                        minutes);
                    var diffSeconds = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours -
                        diffMinutes * minutes) / seconds);
                    if (startYear == todayYear) {
                        document.getElementById("year").innerHTML = todayYear;
                        document.getElementById("sitetime").innerHTML = "本站已安全运行 " + diffDays + " 天 " + diffHours +
                            " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
                    } else {
                        document.getElementById("year").innerHTML = startYear + " - " + todayYear;
                        document.getElementById("sitetime").innerHTML = "本站已安全运行 " + diffYears + " 年 " + diffDays +
                            " 天 " + diffHours + " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
                    }
                }
                setInterval(siteTime, 1000);
            </script>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/yintelligence" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:Yintelligence@outlook.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>













</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;Search</span>
            <input type="search" id="searchInput" name="s" placeholder="Please enter a search keyword"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

	
    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
